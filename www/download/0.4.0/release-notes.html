<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>0.4.0 Release Notes &middot; The Zig Programming Language</title>
    <link rel="icon" href="../../zig-icon.svg">
    <style type="text/css">
      body{
        font-family: system-ui, -apple-system, Roboto, "Segoe UI", sans-serif;
      }
      a {
        text-decoration: none;
      }
      table, th, td {
        border-collapse: collapse;
        border: 1px solid grey;
      }
      th, td {
        padding: 0.1em;
      }
      .t0_1, .t37, .t37_1 {
        font-weight: bold;
      }
      .t2_0 {
        color: grey;
      }
      .t31_1 {
        color: red;
      }
      .t32_1 {
        color: green;
      }
      .t36_1 {
        color: #0086b3;
      }
      .file {
        text-decoration: underline;
      }
      pre,code {
        font-size: 12pt;
      }
      pre > code {
        display: block;
        overflow: auto;
        padding: 0.5em;
        color: #333;
        background: #f8f8f8;
      }
      .table-wrapper {
        width: 100%;
        overflow-y: auto;
      }

      .tok-kw {
          color: #333;
          font-weight: bold;
      }
      .tok-str {
          color: #d14;
      }
      .tok-builtin {
          color: #0086b3;
      }
      .tok-comment {
          color: #777;
          font-style: italic;
      }
      .tok-fn {
          color: #900;
          font-weight: bold;
      }
      .tok-null {
          color: #008080;
      }
      .tok-number {
          color: #008080;
      }
      .tok-type {
          color: #458;
          font-weight: bold;
      }

      #contents {
        max-width: 50em;
        margin: auto;
      }

      h1 a, h2 a, h3 a, h4 a, h5 a {
        text-decoration: none;
        color: #333;
      }

      a.hdr {
        visibility: hidden;
      }
      h1:hover > a.hdr, h2:hover > a.hdr, h3:hover > a.hdr, h4:hover > a.hdr, h5:hover > a.hdr {
        visibility: visible;
      }

      @media (prefers-color-scheme: dark) {
        body{
            background-color:#111;
            color: #bbb;
        }
        a {
            color: #88f;
        }
        table, th, td {
            border-color: grey;
        }
        .t2_0 {
            color: grey;
        }
        .t31_1 {
            color: red;
        }
        .t32_1 {
            color: green;
        }
        .t36_1 {
            color: #0086b3;
        }
        pre > code {
            color: #ccc;
            background: #222;
        }
        .tok-kw {
            color: #eee;
        }
        .tok-str {
            color: #2e5;
        }
        .tok-builtin {
            color: #ff894c;
        }
        .tok-comment {
            color: #aa7;
        }
        .tok-fn {
            color: #e33;
        }
        .tok-null {
            color: #ff8080;
        }
        .tok-number {
            color: #ff8080;
        }
        .tok-type {
            color: #68f;
        }
        h1 a, h2 a, h3 a, h4 a, h5 a {
            color: #aaa;
        }
      }
    </style>
  </head>
  <!--
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
█░░░░░░░░▀█▄▀▄▀██████░▀█▄▀▄▀██████                                    
░░░░ ░░░░░░░▀█▄█▄███▀░░░ ▀█▄█▄███
cool sunglasses
  -->
  <body>
    <div id="contents">
    <a href="/"><img src="../../zig-logo.svg"></a>
    <h1>0.4.0 Release Notes</h1>
    <p>
    <a href="/download">Download &amp; Documentation</a>
    </p>
    <p>
    Zig is a general-purpose programming language designed for <strong>robustness</strong>,
    <strong>optimality</strong>, and <strong>clarity</strong>. Zig is aggressively pursuing
    its goal of overthrowing C as the de facto language for system programming. Zig intends
    to be so practical that people find themselves using it even if they dislike it.
    </p>
    <p>
    This release features <strong>6 months of work</strong> and
    changes from <strong>46 different contributors</strong>, spread among
    <strong>846 commits</strong>.
    </p>
    <p>
    Special thanks to my <a href="https://www.patreon.com/andrewrk">patrons who provide financial support</a>. You're making Zig sustainable.
    </p>

    <h1 id="Table-of-Contents"><a href="#toc-Table-of-Contents">Table of Contents</a> <a class="hdr" href="#Table-of-Contents">§</a></h1>

    

    <ul>
        <li><a id="toc-Table-of-Contents" href="#Table-of-Contents">Table of Contents</a></li>
        <li><a id="toc-LLVM-8" href="#LLVM-8">LLVM 8</a></li>
        <li><a id="toc-FreeBSD-Support" href="#FreeBSD-Support">FreeBSD Support</a></li>
        <li><a id="toc-Tier-System" href="#Tier-System">Tier System</a>
        <ul>
            <li><a id="toc-Explanation-of-Tiers" href="#Explanation-of-Tiers">Explanation of Tiers</a>
            <ul>
                <li><a id="toc-Tier-1-Support" href="#Tier-1-Support">Tier 1 Support</a></li>
                <li><a id="toc-Tier-2-Support" href="#Tier-2-Support">Tier 2 Support</a></li>
                <li><a id="toc-Tier-3-Support" href="#Tier-3-Support">Tier 3 Support</a></li>
                <li><a id="toc-Tier-4-Support" href="#Tier-4-Support">Tier 4 Support</a></li>
            </ul></li>
            <li><a id="toc-Support-Table" href="#Support-Table">Support Table</a></li>
        </ul></li>
        <li><a id="toc-Zig-is-also-a-C-Compiler" href="#Zig-is-also-a-C-Compiler">Zig is also a C Compiler</a></li>
        <li><a id="toc-WebAssembly-Support" href="#WebAssembly-Support">WebAssembly Support</a></li>
        <li><a id="toc-Zig-Build-System" href="#Zig-Build-System">Zig Build System</a>
        <ul>
            <li><a id="toc-Build-Artifact-Caching" href="#Build-Artifact-Caching">Build Artifact Caching</a></li>
        </ul></li>
        <li><a id="toc-Valgrind-Compatibility" href="#Valgrind-Compatibility">Valgrind Compatibility</a></li>
        <li><a id="toc-zig-fmt" href="#zig-fmt">zig fmt</a></li>
        <li><a id="toc-C-Translation-Status" href="#C-Translation-Status">C Translation Status</a></li>
        <li><a id="toc-Type-Based-Alias-Analysis-Status" href="#Type-Based-Alias-Analysis-Status">Type-Based Alias Analysis Status</a></li>
        <li><a id="toc-macOSMach-O-Linker-Status" href="#macOSMach-O-Linker-Status">macOS/Mach-O Linker Status</a></li>
        <li><a id="toc-Grammar-Formalization-and-Specification" href="#Grammar-Formalization-and-Specification">Grammar Formalization and Specification</a></li>
        <li><a id="toc-Documentation" href="#Documentation">Documentation</a></li>
        <li><a id="toc-Language-Changes" href="#Language-Changes">Language Changes</a>
        <ul>
            <li><a id="toc-Implicit-Casting-Comptime-Known-Integers" href="#Implicit-Casting-Comptime-Known-Integers">Implicit Casting Comptime-Known Integers</a></li>
        </ul></li>
        <li><a id="toc-Standard-Library-API-Changes" href="#Standard-Library-API-Changes">Standard Library API Changes</a></li>
        <li><a id="toc-Please-Welcome-Sahnvour-to-the-Core-Zig-Team" href="#Please-Welcome-Sahnvour-to-the-Core-Zig-Team">Please Welcome Sahnvour to the Core Zig Team</a></li>
        <li><a id="toc-Thank-you-contributors" href="#Thank-you-contributors">Thank you contributors!</a></li>
        <li><a id="toc-Miscellaneous-Improvements" href="#Miscellaneous-Improvements">Miscellaneous Improvements</a>
        <ul>
            <li><a id="toc-Recursive-Type-Mismatch-Error-Notes" href="#Recursive-Type-Mismatch-Error-Notes">Recursive Type Mismatch Error Notes</a></li>
        </ul></li>
        <li><a id="toc-Bug-Fixes" href="#Bug-Fixes">Bug Fixes</a>
        <ul>
            <li><a id="toc-This-Release-Contains-Bugs" href="#This-Release-Contains-Bugs">This Release Contains Bugs</a></li>
        </ul></li>
        <li><a id="toc-Roadmap" href="#Roadmap">Roadmap</a>
        <ul>
            <li><a id="toc-Accepted-Proposals" href="#Accepted-Proposals">Accepted Proposals</a></li>
        </ul></li>
        <li><a id="toc-Active-External-Projects-Using-Zig" href="#Active-External-Projects-Using-Zig">Active External Projects Using Zig</a></li>
        <li><a id="toc-Thank-you-financial-supporters" href="#Thank-you-financial-supporters">Thank you financial supporters!</a></li>
    </ul>

    

    <h1 id="LLVM-8"><a href="#toc-LLVM-8">LLVM 8</a> <a class="hdr" href="#LLVM-8">§</a></h1>

    <p>
    This release of Zig upgrades to
    <a href="http://releases.llvm.org/8.0.0/docs/ReleaseNotes.html">LLVM 8</a>.
    Zig operates in lockstep with LLVM; Zig 0.4.0 is not compatible with LLVM 7.
    </p>
    <p>
    Notably this means that Zig now has <a href="#WebAssembly-Support">WebAssembly Support</a>.
    </p>
    

    <h1 id="FreeBSD-Support"><a href="#toc-FreeBSD-Support">FreeBSD Support</a> <a class="hdr" href="#FreeBSD-Support">§</a></h1>

    <p>Greg V and Marc Tiehuis worked together and got FreeBSD working in the stage1
    compiler as well as the Zig standard library.</p>
    TODO
    TODO automated x86_64 CI builds. mention sr.ht 
    

    <h1 id="Tier-System"><a href="#toc-Tier-System">Tier System</a> <a class="hdr" href="#Tier-System">§</a></h1>

    <p>
    Zig now uses a "support tier" system to communicate the level of
    support for different targets.
    </p>
    <h2 id="Explanation-of-Tiers"><a href="#toc-Explanation-of-Tiers">Explanation of Tiers</a> <a class="hdr" href="#Explanation-of-Tiers">§</a></h2>

    <h3 id="Tier-1-Support"><a href="#toc-Tier-1-Support">Tier 1 Support</a> <a class="hdr" href="#Tier-1-Support">§</a></h3>

    <ul>
      <li> Not only can Zig generate machine code for these targets, but the standard
   library cross-platform abstractions have implementations for these targets.
   Thus it is practical to write a pure Zig application with no dependency on
   libc.</li>
      <li>The CI server automatically tests these targets on every commit to master
      branch, and updates <a href="/download">ziglang.org/download</a> with links to pre-built binaries.</li>
      <li>These targets have debug info capabilities and therefore produce stack
 traces on failed assertions.</li>
      <li>(<a href="https://github.com/ziglang/zig/issues/514">coming soon</a>) libc is available
 for this target even when cross compiling.</li>
    </ul>
    

    <h3 id="Tier-2-Support"><a href="#toc-Tier-2-Support">Tier 2 Support</a> <a class="hdr" href="#Tier-2-Support">§</a></h3>

    <ul>
    <li> There may be some standard library implementations, but many abstractions
   will give an "Unsupported OS" compile error. One can link with libc or other
   libraries to fill in the gaps in the standard library.</li>
   <li> These targets are known to work, but are not automatically tested, so there
     are occasional regressions.</li>
   <li> Some tests may be disabled for these targets as we work toward Tier 1
     support.</li>
    </ul>
    

    <h3 id="Tier-3-Support"><a href="#toc-Tier-3-Support">Tier 3 Support</a> <a class="hdr" href="#Tier-3-Support">§</a></h3>

    <ul>
    <li>The standard library has little to no knowledge of the existence of this
        target.</li>
   <li>Because Zig is based on LLVM, it has the capability to build for these
     targets, and LLVM has the target enabled by default.</li>
   <li>These targets are not frequently tested; one will likely need to contribute
     to Zig in order to build for these targets.</li>
   <li>The Zig compiler might need to be updated with a few things such as
     <ul>
       <li>what sizes are the C integer types</li>
       <li>C ABI calling convention for this target</li>
       <li>bootstrap code and default panic handler</li>
     </ul>
     <li><code>zig targets</code> is guaranteed to include this target.</li>
    </ul>
    

    <h3 id="Tier-4-Support"><a href="#toc-Tier-4-Support">Tier 4 Support</a> <a class="hdr" href="#Tier-4-Support">§</a></h3>

    <ul>
      <li>Support for these targets is entirely experimental.</li>
      <li>LLVM may have the target as an experimental target, which means that you
   need to use Zig-provided binaries for the target to be available, or
   build LLVM from source with special configure flags. <code>zig targets</code> will
   display the target if it is available.</li>
   <li>This target may be considered deprecated by an official party,
     <a href="https://support.apple.com/en-us/HT208436">such as macosx/i386</a> in which
     case this target will remain forever stuck in Tier 4.</li>
   <li>This target may only support <code>--emit asm</code> and cannot emit object files.</li>
    </ul>
    
    
    <h2 id="Support-Table"><a href="#toc-Support-Table">Support Table</a> <a class="hdr" href="#Support-Table">§</a></h2>

<table>
<thead>
<tr>
<th></th>
<th>freestanding</th>
<th>linux</th>
<th>macosx</th>
<th>windows</th>
<th>freebsd</th>
<th>netbsd</th>
<th>UEFI</th>
<th>other</th>
</tr>
</thead>
<tbody>
<tr>
<td>x86_64</td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
<td><a href="#Tier-1-Support">Tier 1</a></td>
<td><a href="#Tier-1-Support">Tier 1</a></td>
<td><a href="#Tier-1-Support">Tier 1</a></td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
</tr>
<tr>
<td>i386</td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
</tr>
<tr>
<td>arm</td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
</tr>
<tr>
<td>arm64</td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
<td><a href="#Tier-2-Support">Tier 2</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
</tr>
<tr>
<td>bpf</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
</tr>
<tr>
<td>hexagon</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
</tr>
<tr>
<td>mips</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
</tr>
<tr>
<td>powerpc</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
</tr>
<tr>
<td>amdgcn</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
</tr>
<tr>
<td>sparc</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
</tr>
<tr>
<td>s390x</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
</tr>
<tr>
<td>lanai</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
</tr>
<tr>
<td>wasm32</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>wasm64</td>
<td><a href="#Tier-3-Support">Tier 3</a></td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>avr</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
</tr>
<tr>
<td>riscv32</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
</tr>
<tr>
<td>riscv64</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
</tr>
<tr>
<td>xcore</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
</tr>
<tr>
<td>nvptx</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
</tr>
<tr>
<td>msp430</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
</tr>
<tr>
<td>r600</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
</tr>
<tr>
<td>arc</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
</tr>
<tr>
<td>tce</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
</tr>
<tr>
<td>le</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
</tr>
<tr>
<td>amdil</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
</tr>
<tr>
<td>hsail</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
</tr>
<tr>
<td>spir</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
</tr>
<tr>
<td>kalimba</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
</tr>
<tr>
<td>shave</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
</tr>
<tr>
<td>renderscript</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
<td>N/A</td>
<td><a href="#Tier-4-Support">Tier 4</a></td>
</tr>
</tbody>
</table>
    
    

    <h1 id="Zig-is-also-a-C-Compiler"><a href="#toc-Zig-is-also-a-C-Compiler">Zig is also a C Compiler</a> <a class="hdr" href="#Zig-is-also-a-C-Compiler">§</a></h1>

    TODO
    

    <h1 id="WebAssembly-Support"><a href="#toc-WebAssembly-Support">WebAssembly Support</a> <a class="hdr" href="#WebAssembly-Support">§</a></h1>

    <p>Ben Noordhuis fixed build-exe for --target-arch wasm32 (#1570).</p>
    <p>TODO https://github.com/ziglang/zig/issues/1622</p>
    <p>TODO</p>
    

    <h1 id="Zig-Build-System"><a href="#toc-Zig-Build-System">Zig Build System</a> <a class="hdr" href="#Zig-Build-System">§</a></h1>

    <p>
    When one invokes the <code>zig build</code> command, this executes a user-defined
    build script. This is called the <strong>zig build system</strong>. It received
    a few improvements during this release cycle:
    </p>
    <ul>
      <li>Tests as part of the build system support all of the same API as executables,
      libraries, and objects.</li>
    </ul>
    <h2 id="Build-Artifact-Caching"><a href="#toc-Build-Artifact-Caching">Build Artifact Caching</a> <a class="hdr" href="#Build-Artifact-Caching">§</a></h2>

    TODO
    
    

    <h1 id="Valgrind-Compatibility"><a href="#toc-Valgrind-Compatibility">Valgrind Compatibility</a> <a class="hdr" href="#Valgrind-Compatibility">§</a></h1>

    <p>TODO the bug from before is fixed</p>
    <p>TODO undefined language integration. --enable-valgrind --disable-valgrind</p>
    

    <h1 id="zig-fmt"><a href="#toc-zig-fmt">zig fmt</a> <a class="hdr" href="#zig-fmt">§</a></h1>

    TODO available in stage1
    TODO improvements

    <p>
    <code>zig fmt</code> now has a <code>--check</code> flag, which does everything
    except modify file contents. That is, it lists non-conforming files on stdout,
    and then exits with an error if the list is non-empty. #1558 #1555
    </p>
    

    <h1 id="C-Translation-Status"><a href="#toc-C-Translation-Status">C Translation Status</a> <a class="hdr" href="#C-Translation-Status">§</a></h1>

    TODO explain #1964

    <p>In addition the following improvements were made:</p>
    <ul>
    <li>support no-op cast</li>
    </ul>
    

    <h1 id="Type-Based-Alias-Analysis-Status"><a href="#toc-Type-Based-Alias-Analysis-Status">Type-Based Alias Analysis Status</a> <a class="hdr" href="#Type-Based-Alias-Analysis-Status">§</a></h1>

    <p>TODO no more TBAA</p>
    <p>TODO talk about the open aliasing issues</p>
    

    <h1 id="macOSMach-O-Linker-Status"><a href="#toc-macOSMach-O-Linker-Status">macOS/Mach-O Linker Status</a> <a class="hdr" href="#macOSMach-O-Linker-Status">§</a></h1>

    <p>TODO LLD doesn't really support macos</p>
    <p>TODO talk about plan to create our own linker #1535</p>
    <p>TODO we had to disable C ABI tests on macos due to LLD deficiency</p>
    <p>TODO using --system-linker-hack for the self hosted compiler</p>
    TODO 81c6f087241b6b7a1c12de72a2061cb02df0f93f workaround in building compiler-rt.a and builtin.a
    

    <h1 id="Grammar-Formalization-and-Specification"><a href="#toc-Grammar-Formalization-and-Specification">Grammar Formalization and Specification</a> <a class="hdr" href="#Grammar-Formalization-and-Specification">§</a></h1>

    <p>Jimmi lead this effort. Starting with solving the return type ambiguity (#1628),
    he then moved on to create <a href="https://github.com/ziglang/zig-spec">zig-spec</a>,
    update the <a href="/documentation/0.4.0/#Grammar">grammar section of the language reference</a>,
    and update the stage1 parser to conform.
    </p>
    <p>
    Thanks to his efforts, Zig syntax now has a formal grammar specification and three independent
    implementations, despite the fact that the syntax is not fully stablized.
    </p>
    

    <h1 id="Documentation"><a href="#toc-Documentation">Documentation</a> <a class="hdr" href="#Documentation">§</a></h1>

    <p>The <a href="/documentation/0.4.0">language reference manual</a>.
       now has a light theme by default, but respects the user's light/dark
       preference via the
       <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme">prefers-color-scheme media query</a>.
       Most browsers don't support this yet, so we just have to wait patiently
       for the future to arrive.
    </p>
    <p>Instead of a side bar index, the index is inline with the rest of the
       content. This is simpler and more friendly to all user agents, and means
       we don't need the media query for mobile devices. It also makes
       back-references work, so now headers link to the table of contents
       and the table of contents links to headers.
    </p>
    <p>
      Both of these things apply to this release notes document as well as the
      language reference manual.
    </p>
    <p>There is still no HTML documentation available for the Zig Standard Library.
    See the <a href="#Roadmap">Roadmap</a> for more details.</p>
    <p>The
    <a href="/documentation/master/">master branch language reference manual</a>
    is now automatically updated on master branch commits
    that pass all tests on all platforms.</p>
    <p>In addition to the above, the following changes were made to the documentation:</p>
    <ul>
      <li>Improved: <a href="/documentation/0.4.0/#Pointers">Pointers</a></li>
      <li>New Section: <a href="/documentation/0.4.0/#volatile">volatile</a></li>
      <li>New Section: <a href="/documentation/0.4.0/#Optional-Pointers">Optional Pointers</a></li>
      <li>Improved: <a href="/documentation/0.4.0/#Operators">Operators</a></li>
    </ul>
    

    <h1 id="Language-Changes"><a href="#toc-Language-Changes">Language Changes</a> <a class="hdr" href="#Language-Changes">§</a></h1>

    <ul>
    <li>Renamed <code>section</code> keyword to <code class="zig"><span class="tok-kw">linksection</span></code>. #1152</li>
    <li>
      Zig no longer has an <a href="/documentation/0.4.0/#Implicit-Casts">implicit cast</a> from <code class="zig">T</code> to <code class="zig">*<span class="tok-kw">const</span> T</code>. #1465
      <ul>
        <li>removed implicit cast from <code class="zig">*T</code> to <code class="zig">?*<span class="tok-kw">const</span> T</code></li>
        <li>removed implicit cast from <code class="zig">T</code> to <code class="zig">?*<span class="tok-kw">const</span> T</code> when <code class="zig">T</code> is a struct/union</li>
      </ul>
    </li>
    <li>Remove <code>@minValue</code>,<code>@maxValue</code>; add <code class="zig">std.math.minInt</code> and <code class="zig">std.math.maxInt</code>. #1466 #1476</li>
    <li>Now the length expression in array type syntax implies <code class="zig"><span class="tok-kw">comptime</span></code>,
      so function calls, for example, will be evaluated without the need for an explicit
      <code class="zig"><span class="tok-kw">comptime</span></code> block. Similarly:
      <ul>
        <li><code class="zig">**</code> and <code class="zig">++</code> operators force comptime
          on operands. #1707</li>
      </ul>
    </li>
      <li>
        <a href="/documentation/0.4.0/#for">for</a> now works with single-item pointers to arrays. #1663 -Jimmi Holst Christensen
      </li>
    </ul>
    <h2 id="Implicit-Casting-Comptime-Known-Integers"><a href="#toc-Implicit-Casting-Comptime-Known-Integers">Implicit Casting Comptime-Known Integers</a> <a class="hdr" href="#Implicit-Casting-Comptime-Known-Integers">§</a></h2>

    <p>All numbers with comptime known values now implicitly cast
    to all number types. If the value does not fit, a compile error
    is emitted.</p>
    <p class="file">comptime_ints.zig</p><pre><code class="zig"><span class="tok-kw">const</span> std = <span class="tok-builtin">@import</span>(<span class="tok-str">&quot;std&quot;</span>);
<span class="tok-kw">const</span> assert = std.debug.assert;

<span class="tok-kw">test</span> <span class="tok-str">&quot;implicit cast large integer to smaller with comptime value&quot;</span> {
    <span class="tok-kw">const</span> x: <span class="tok-type">u64</span> = <span class="tok-number">255</span>;
    <span class="tok-kw">const</span> y: <span class="tok-type">u8</span> = x;
    assert(y == <span class="tok-number">255</span>);
}</code></pre><pre><code class="shell">$ zig test comptime_ints.zig
Test 1/1 implicit cast large integer to smaller with comptime value...OK
All tests passed.
</code></pre>

    <p>#422 #1712</p>
    
    

    <h1 id="Standard-Library-API-Changes"><a href="#toc-Standard-Library-API-Changes">Standard Library API Changes</a> <a class="hdr" href="#Standard-Library-API-Changes">§</a></h1>

    <ul>
      <li><code class="zig">std.debug.failing_allocator</code> is now a <code class="zig">*Allocator</code>
        rather than the <code class="zig">FailingAllocator</code> state. -Jimmi Holst Christensen</li>
      <li>Renamed <code class="zig">std.event.tcp</code> to <code class="zig">std.event.net</code>.</li>
      <li>update std lib API for I/O<ul>
        <li>Renamed <code class="zig">std.io.FileInStream</code> to <code class="zig">std.os.File.InStream</code></li>
        <li>Renamed <code class="zig">std.io.FileInStream.init(file)</code> to <code class="zig">file.inStream()</code></li>
        <li>Renamed <code class="zig">std.io.FileOutStream</code> to <code class="zig">std.os.File.OutStream</code></li>
        <li>Renamed <code class="zig">std.io.FileOutStream.init(file)</code> to <code class="zig">file.outStream()</code></li>
        <li>Fewer error code possibilities from several os functions</li>
        <li>Renamed <code class="zig">std.event.net.socketRead</code> to <code class="zig">std.event.net.read</code></li>
        <li>Renamed <code class="zig">std.event.net.socketWrite</code> to <code class="zig">std.event.net.write</code></li>
        <li>Added <code class="zig">std.event.net.readv</code></li>
        <li>Added <code class="zig">std.event.net.writev</code></li>
        <li>Added <code class="zig">std.event.net.readvPosix</code></li>
        <li>Added <code class="zig">std.event.net.writevPosix</code></li>
        <li>Added <code class="zig">std.event.net.OutStream</code></li>
        <li>Added <code class="zig">std.event.net.InStream</code></li>
        <li>Added <code class="zig">std.event.io.InStream</code></li>
        <li>Added <code class="zig">std.event.io.OutStream</code></li>
        </ul></li>
      <li>std lib: posixRead can return less than buffer size. #1414
        <ul>
          <li><code class="zig">std.io.InStream.read</code> now can return less than buffer size</li>
          <li>introduce <code class="zig">std.io.InStream.readFull</code> for previous behavior</li>
    
          <li>add <code class="zig">std.os.File.openWriteNoClobberC</code></li>
          <li>rename <code class="zig">std.os.deleteFileWindows</code> to <code class="zig">std.os.deleteFileW</code></li>
          <li>remove <code class="zig">std.os.deleteFilePosix</code></li>
          <li>add <code class="zig">std.os.deleteFileC</code></li>
    
          <li><code class="zig">std.os.copyFile</code> no longer takes an allocator</li>
          <li><code class="zig">std.os.copyFileMode</code> no longer takes an allocator</li>
          <li><code class="zig">std.os.AtomicFile</code> no longer takes an allocator</li>
    
          <li>add <code class="zig">std.os.renameW</code></li>
          <li>add windows support for <code class="zig">std.os.renameC</code></li>
        </ul>
      </li>
      <li>add <code class="zig">std.os.linux.vfork</code> and <code class="zig">std.os.linux.exit_group</code></li>
      <li>changed <code class="zig">std.os.time.sleep(seconds: <span class="tok-type">usize</span>, nanoseconds: <span class="tok-type">usize</span>)</code> to <code class="zig">(nanoseconds: <span class="tok-type">u64</span>)</code>. -Marc Tiehuis</li>
      <li>Added <code class="zig">std.math.maxInt</code> and <code class="zig">std.math.minInt</code></li>
      <li>Added <code class="zig">std.crypto.HmacBlake2s256</code></li>
      <li>Added <code class="zig">std.net.Address.port</code> -Josh Wolfe</li>
      <li>Added <code class="zig">std.io.NullOutStream</code> and <code class="zig">std.io.CountingOutStream</code> -Jimmi Holst Christensen</li>
      <li><code class="zig">std.io.InStream(E).readStruct</code> returns a value instead of taking a pointer. -Jimmi Holst Christensen</li>
      <li>Added <code class="zig">std.atomic.Int.set</code>. -Josh Wolfe</li>
      <li>Added <code class="zig">std.meta.intToEnum</code>.</li>
      <li>Revamped the <code class="zig">std.rand.Rand</code> API to better handle the
        concept of bias. -Josh Wolfe<ul>
          <li>Added <code class="zig">std.rand.Rand.uintLessThanBiased</code></li>
          <li>Added <code class="zig">std.rand.Rand.uintAtMostBiased</code></li>
          <li>Added <code class="zig">std.rand.Rand.intRangeLessThanBiased</code></li>
          <li>Added <code class="zig">std.rand.Rand.intRangeAtMostBiased</code></li>
        </ul></li>
      <li>Added <code class="zig">std.HashMap.getOrPutValue</code>. -Jimmi Holst Christensen</li>
      <li>Jimmi Holst Christensen revamped <code class="zig">std.io.readLine</code><ul>
          <li><code class="zig">std.io.readLine</code> has a new prototype</li>
          <li>Added <code class="zig">std.io.readLineFrom</code></li>
          <li>Added <code class="zig">std.io.readLineSlice</code></li>
          <li>Added <code class="zig">std.io.readLineSliceFrom</code></li>
        </ul></li>
        <li>Added <code class="zig">std.io.SeekableStream</code>. Dwarf debug info
          is modified to use this instead of <code class="zig">std.os.File</code>
          directly to make it easier for
          <a href="https://andrewkelley.me/post/zig-stack-traces-kernel-panic-bare-bones-os.html">bare metal projects to take advantage of debug info parsing</a>.</li>
        <li>Added <code class="zig">std.debug.StackIterator</code>.</li>
      </li>
    </ul>
    

    <h1 id="Please-Welcome-Sahnvour-to-the-Core-Zig-Team"><a href="#toc-Please-Welcome-Sahnvour-to-the-Core-Zig-Team">Please Welcome Sahnvour to the Core Zig Team</a> <a class="hdr" href="#Please-Welcome-Sahnvour-to-the-Core-Zig-Team">§</a></h1>

    <p>
    I am pleased to announce our newest Zig team member, <a href="https://github.com/Sahnvour">Sahnvour</a>.
    </p>
    <p>
He has shown continued dedication and discipline in his contributions
to the Zig programming language project. The quality of his work speaks
for itself.
    </p>
    <p>
I look forward to working with Sahnvour as we continue to push Zig
toward 1.0.0 and beyond.
    </p>
    

    <h1 id="Thank-you-contributors"><a href="#toc-Thank-you-contributors">Thank you contributors!</a> <a class="hdr" href="#Thank-you-contributors">§</a></h1>

    <ul>
      <li><strong>Shawn Landden</strong> added arm64 Linux support to the Zig standard library.
        Note, however, that the arm64-linux target remains a <a href="#Tier-2-Support">Tier 2 Support</a> target,
        mainly due to lack of continuous integration testing.
      </li>
      <li><strong>Shawn Landden</strong> removed an invalid formatted printing test that relied
        on negative NaN.</li>
      <li><strong>Shawn Landden</strong> fixed ELF auxv handling.</li>
      <li><strong>Wink Saville</strong> added tests to the Zig standard library.</li>
      <li><strong>emekoi</strong> added dynamic library loading for windows. #1594</li>
      <li><strong>emekoi</strong> maintained the MinGW build of Zig.</li>
      <li><strong>Wink Saville</strong> Add doc comment for tokenLocationPtr (#1618)</li>
      <li><strong>emekoi</strong> added math.pow support for integer types and math.powi. #1637 (#1642)</li>
      <li><strong>tgschultz</strong> added std.meta - helper functions for doing reflection. #1662</li>
      <li><strong>Greg V</strong> and <strong>Marc Tiehuis</strong> implemented FreeBSD support in the stage1 compiler and standard library.</li>
      <li><strong>emekoi</strong> made the documentation headers have self links for sharing. #1667</li>
      <li><strong>Ryan Saunderson</strong> fixed detecting the latest installed version of the
        Windows SDK and related tests. #1665</li>
      <li><strong>kristopher tate</strong> exposed <code class="zig">std.crypto.HmacBlake2s256</code></li>
      <li><strong>emekoi</strong> made terminal color output of the compiler more consistent (#1706)</li>
      <li><strong>Matthew O'Connor</strong> updated <code class="zig">std.rb</code> to conform to the
        <a href="/documentation/0.4.0/#Style-Guide">style guide</a>.</li>
      </li>
      <li><strong>kristopher tate</strong> added support for printing hex bytes on slices</li>
      <li><strong>Vallentin</strong> fixed documentation typos</li>
      <li><strong>kristopher tate</strong> made the internal compiler error handling more robust</li>
      <li><strong>Duncan</strong> fixed the setsockopt syscall on linux.</li>
      <li><strong>Wink Saville</strong> fixed <code class="zig">std.json.pushToParent</code> to work for arrays of Objects</li>
      <li><strong>Wink Saville</strong> added <code class="zig">SegmentedList.shrink</code></li>
      <li><strong>Wink Saville</strong> renamed json tests to be easily filtered</li>
      <li><strong>daurnimator</strong> added <code class="zig">std.meta.stringToEnum</code></li>
      <li><strong>kristopher tate</strong> introduced the concept of <code class="zig">std.mem.separate</code> vs <code class="zig">std.mem.tokenize</code>.</li>
      <li><strong>daurnimator</strong> added <code class="zig">std.math.IntFittingRange</code></li>
      <li><strong>daurnimator</strong> added <code class="zig">std.LinkedList.concat</code></li>
      <li><strong>dbandstra</strong> made <code class="zig">std.fmt.parseUnsigned</code> handle types less than 8 bits wide.</li>
      <li><strong>kristopher tate</strong> reduced code bloat by having <code class="zig">std.mem.join</code> and <code class="zig">std.os.path.join</code> use a slice parameter rather than var args.</li>
      <li><strong>Suirad</strong> updated the standard library to use GetEnvironmentStringsW instead of GetEnvironmentStringsA. #534</li>
      <li><strong>tgschultz</strong> added serialization and deserialization abstractions to the zig standard library.</li>
      <li><strong>Henry Nelson</strong> documented explicitly ignoring expression values.</li>
      <li><strong>Jay Weisskopf</strong> improved the documentation - and these release notes - to use the system-ui font family.</li>
    </ul>
    

    <h1 id="Miscellaneous-Improvements"><a href="#toc-Miscellaneous-Improvements">Miscellaneous Improvements</a> <a class="hdr" href="#Miscellaneous-Improvements">§</a></h1>

    <ul>
      <li>Zig now recognizes the HermitCore OS.</li>
      <li>zig build: use os_self_exe_path to determine exe path not arg0</li>
      <li>The cmake configuration no longer tries to find libxml since it's not a direct
        dependency.</li>
      <li>add a test for <code class="zig">std.os.AtomicFile</code></li>
      <li>increase stack size on windows for all executables. #157</li>
      <li><code class="zig">std.Mutex</code> now has a high quality Linux implementation based on
        <a href="http://dept-info.labri.fr/~denis/Enseignement/2008-IR/Articles/01-futex.pdf">Ulrich Drepper's "Futexes are tricky" paper</a>, Mutex, Take 3.
        Thanks to Shawn Landden for the original implementation. #1463</li>
      <li>
        When targeting Linux, Zig now automatically links statically when not linking against
        any shared libraries. It also disables Position Independent Code in this case, which
        <a href="http://ewontfix.com/18/">improves performance</a>. <code>--enable-pic</code>
        and <code>--disable-pic</code> can be used to override the default.
      </li>
      <li>The cmake build looks for llvm-config-8 before llvm-config. Fixes building from source
      on some systems.</li>
      <li>
        Zig now supports building static libraries, with no system dependency on <code>ar</code>.
        #1493 #54
      </li>
      <li>
        On POSIX systems, the stage1 compiler uses <code>posix_spawn</code> rather than
        <code>fork</code> and <code>execv</code>. The logic is simplified and the memory usage
        is more deterministic.
      </li>
      <li>
        Zig's startup code inlines some functions so that stack traces have fewer frames before main.
      </li>
      <li>Support C ABI for returning structs on ARM. #1481</li>
      <li>add __multi3 compiler rt function. #1290</li>
      <li>compiler rt includes ARM functions for thumb and aarch64 and
        other sub-arches left out. #1526</li>
      <li>std.io: fix compile error when InStream has empty error set</li>
      <li>Support both MSVC 2015 and MSVC 2017 when linking libc, as well as for building stage1.</li>
      <li>macOS builds of master branch are now available on <a href="/download">the download page</a>.</li>
      <li>aarch64 improvements<ul>
          <li>support C ABI for all return types</li>
          <li>don't include __aeabi_uldivmod &amp; co on aarch64 since
            it's 64 bit</li></ul>
      </li>
      <li>improve error message when wrong type returned. #1650</li>
      <li>Crash fixes and small improvements to inline asm. (#1756) -Sahnvour<ul>
          <li>codegen: fix use of deprecated LLVMConstInlineAsm.</li>
          <li>codegen: replace commas in asm constraint strings by pipes as required by LLVM.</li>
          <li>ir: enforce usage of '=' constraint modifier for inline assembly outputs.</li>
          <li>asm: forbid comptime_int/floats as inputs in favor of explicitely sized constants.</li>
          <li>asm: handle inputs with integers of less than 8 or non power of 2 bitsize by widening them to the next highest power of two.</li>
        </ul></li>
        <li><code class="zig">std.rand.Rand</code>: better debiased random range implementation. -Josh Wolfe</li>
        <li>Add a workaround to support Debian's patch of LLVM which breaks the public API.
          <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=924953">Debian bug report</a>.
        </li>
    </ul>
    <h2 id="Recursive-Type-Mismatch-Error-Notes"><a href="#toc-Recursive-Type-Mismatch-Error-Notes">Recursive Type Mismatch Error Notes</a> <a class="hdr" href="#Recursive-Type-Mismatch-Error-Notes">§</a></h2>

    <p>
    Function type mismatches now have an error note which explains in more detail why the
    function types were incompatible:
    </p>
    <p class="file">test.zig</p><pre><code class="zig"><span class="tok-kw">fn</span> <span class="tok-fn">do_the_thing</span>(func: <span class="tok-kw">fn</span> (arg: <span class="tok-type">i32</span>) <span class="tok-type">void</span>) <span class="tok-type">void</span> {}
<span class="tok-kw">fn</span> <span class="tok-fn">bar</span>(arg: <span class="tok-type">bool</span>) <span class="tok-type">void</span> {}
<span class="tok-kw">test</span> <span class="tok-str">&quot;fn types&quot;</span> {
    do_the_thing(bar);
}</code></pre><pre><code class="shell">$ zig test test.zig
<span class="t0_1">/home/andy/dev/www.ziglang.org/docgen_tmp/test.zig:4:18: </span><span class="t31_1">error:</span><span class="t0_1"> expected type 'fn(i32) void', found 'fn(bool) void'</span>
    do_the_thing(bar);
                 <span class="t32_1">^</span>
<span class="t0_1">/home/andy/dev/www.ziglang.org/docgen_tmp/test.zig:4:18: </span><span class="t36_1">note:</span><span class="t0_1"> parameter 0: 'bool' cannot cast into 'i32'</span>
    do_the_thing(bar);
                 <span class="t32_1">^</span>
</code></pre>

    
    

    <h1 id="Bug-Fixes"><a href="#toc-Bug-Fixes">Bug Fixes</a> <a class="hdr" href="#Bug-Fixes">§</a></h1>

    <ul>
      <li>Sahnvour fixed --emit asm on windows. #1612</li>
      <li>Jimmi Holst Christensen fixed StackTrace not being resolved when panic is invalid (#1615)</li>
      <li>Fixed missing .h files for <a href="https://ziglang.org/documentation/0.4.0/#cImport">@cImport</a>. #1634</li>
      <li>No more blank lines printed after linker errors. Fixed by disabling the error limit when invoking LLD. </li>
      <li>Fixed code still using old ptr syntax. -Jimmi Holst Christensen</li>
      <li>Fixed stack pointer register name on i386</li>
      <li>Removed implicit cast from number literal to enum</li>
      <li>limit integer types to maximum bit width of 65535. #1541</li>
      <li>Fixed .h file locating on macos 10.14</li>
      <li>fix assertion failure related to @intToEnum</li>
      <li>std/rand: fix ziggurat next_f64 call. -Marc Tiehuis</li>
      <li>fix <a href="/documentation/0.4.0/#intCast">@intCast</a> not catching negative numbers to unsigned</li>
      <li>better file path handling in stage1 compiler. #1693 #1746</li>
      <li>Sahnvour fixed stack traces on windows.</li>
      <li>Josh Wolfe fixed child_process piped streams not getting closed</li>
    </ul>
    <h2 id="This-Release-Contains-Bugs"><a href="#toc-This-Release-Contains-Bugs">This Release Contains Bugs</a> <a class="hdr" href="#This-Release-Contains-Bugs">§</a></h2>

   <p>
   Zig has <a href="https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3Abug">known bugs</a>.
   </p>
   <p>The first release that will ship with no known bugs will be 1.0.0.</p>
    

    

    <h1 id="Roadmap"><a href="#toc-Roadmap">Roadmap</a> <a class="hdr" href="#Roadmap">§</a></h1>

    <p>Here is the <a href="/download/0.3.0/release-notes.html">roadmap from 0.3.0 release notes</a>:</p>
   <ul>
     <li>Redo coroutines without using LLVM Coroutines and rework the semantics. See <a href="https://github.com/ziglang/zig/issues/1363">#1363</a> and <a href="https://github.com/ziglang/zig/issues/1194">#1194</a>.</li>
     <li>Tuples instead of var args. <a href="https://github.com/ziglang/zig/issues/208">#208</a></li>
     <li>Well-defined copy-eliding semantics. <a href="https://github.com/ziglang/zig/issues/287">#287</a></li>
     <li>Self-hosted compiler. <a href="https://github.com/ziglang/zig/issues/89">#89</a></li>
     <li>Get to 100% documentation coverage of the language</li>
     <li>Auto generated documentation. <a href="https://github.com/ziglang/zig/issues/21">#21</a></li>
     <li>Package manager. <a href="https://github.com/ziglang/zig/issues/943">#943</a></li>
   </ul>
   <p>
   I am sad to report that this list was too ambitious for one release cycle, and while there has
   been considerable progress, none of these items are complete. And so the roadmap for 0.4.0 is
   the same.
   </p>
   <p>
   TODO explain my 2 failed attempts at no-copy semantics
   </p>
    <h2 id="Accepted-Proposals"><a href="#toc-Accepted-Proposals">Accepted Proposals</a> <a class="hdr" href="#Accepted-Proposals">§</a></h2>

    TODO
    

    

    <h1 id="Active-External-Projects-Using-Zig"><a href="#toc-Active-External-Projects-Using-Zig">Active External Projects Using Zig</a> <a class="hdr" href="#Active-External-Projects-Using-Zig">§</a></h1>

    <ul>
      <li><a href="https://github.com/andrewrk/zig-general-purpose-allocator/">GeneralPurposeDebugAllocator</a> - work in progress general purpose debug allocator with livestreamed development.</li>
      <li><a href="https://github.com/Sahnvour/zig-benchmark">zig-benchmark</a> - Small and easy micro-benchmarking library.
      </li>
      <li>TODO more</li>
    </ul>
    

    <h1 id="Thank-you-financial-supporters"><a href="#toc-Thank-you-financial-supporters">Thank you financial supporters!</a> <a class="hdr" href="#Thank-you-financial-supporters">§</a></h1>

<p>
Special thanks to those who <a href="https://www.patreon.com/andrewrk">donate monthly</a>.
Thanks to you, Zig is not driven by the needs of a business; instead it exists solely to serve
the open source community.
</p>
<ul style="columns: 3">
<li>connectFree Corporation</li>
<li>Raph Levien</li>
<li>Stevie Hryciw</li>
<li>Lauren Chavis</li>
<li>Ali Anwar</li>
<li>Andrea Orru</li>
<li>Josh Wolfe</li>
<li>Filippo Valsorda</li>
<li>Ryan Worl</li>
<li>jeff kelley</li>
<li>Martin Schwaighofer</li>
<li>Jimmy Zelinskie</li>
<li>Tyler Bender</li>
<li>Tanner Schultz</li>
<li>Kelly Wilson</li>
<li>Brendon Scheinman</li>
<li>Trenton Cronholm</li>
<li>Champ Yen</li>
<li>Don Poor</li>
<li>Locke Monster</li>
<li>Thomas Ballinger</li>
<li>Paul Merrill</li>
<li>Audun Wilhelmsen</li>
<li>Adrian Sinclair</li>
<li>David Joseph</li>
<li>Elizabeth Ryan</li>
<li>Tom Phinney</li>
<li>Steve Perkins</li>
<li>Clement Rey</li>
<li>Jeff </li>
<li>Ross Rheingans-Yoo</li>
<li>Ross Kilgariff</li>
<li>Rudi Angela</li>
<li>Justin B Alexander</li>
<li>Ville Tuulos</li>
<li>shen xizhi</li>
<li>Ross Cousens</li>
<li>William L Sommers</li>
<li>Mirek Rusin</li>
<li>Peter Ronnquist</li>
<li>Felix Yuan</li>
<li>Aharon sharim</li>
<li>Caius </li>
<li>Matthew </li>
<li>Brian Glusman</li>
<li>Christopher A. Butler</li>
<li>Raymond Imber</li>
<li>Jack Wakefield</li>
<li>Mitch Small</li>
<li>Josh Gentry</li>
<li>Benoit Jauvin-Girard</li>
<li>Josh McDonald</li>
<li>Jay Weisskopf</li>
<li>Dan Boykis</li>
<li>Le Bach</li>
<li>Jordan Torbiak</li>
<li>Gerdus van Zyl</li>
<li>Furkan Mustafa</li>
<li>S.D. </li>
<li>Yaroslav Zh</li>
<li>Eduard Nicodei</li>
<li>Thomas Lopatic</li>
<li>joe ardent</li>
<li>Luis Alfonso Higuera Gamboa</li>
<li>Jason Merrill</li>
<li>Andriy Tyurnikov</li>
<li>Sanghyeon Seo</li>
<li>Neil Henning</li>
<li>Aaron St George </li>
<li>Brian Orr</li>
<li>Frans van den Heuvel</li>
<li>David Bremner</li>
<li>Wesley Kelley</li>
<li>Quetzal Bradley</li>
<li>Wink Saville</li>
<li>Anthony J. Benik</li>
<li>stdev </li>
<li>Ben Morris</li>
<li>Brian Ketelsen</li>
<li>Serge Paquet</li>
<li>Joseph Jaoudi</li>
<li>Torben Clasen</li>
<li>occivink </li>
<li>curtis gagliardi</li>
<li>Codi Matters</li>
<li>Ruslan Prakapchuk</li>
<li>Tyler Philbrick</li>
<li>Jan Halsema</li>
<li>Samantha Weddle</li>
<li>Jeff Hochgesang</li>
<li>Anatoly Polinsky</li>
<li>McSpiros </li>
<li>George K</li>
<li>Jon Raphaelson</li>
<li>Brian Lewis</li>
<li>Matt Whiteside</li>
<li>AnonymousGuy </li>
<li>Blazej Floch</li>
<li>Dmitriy Filchenko</li>
<li>ers35 </li>
<li>Martin Holly</li>
<li>RCherry </li>
<li>Charles Palmer</li>
<li>Ryan Roberts</li>
<li>Andrew Fernandes</li>
<li>Fabien Freling</li>
<li>Lewis </li>
<li>Marko Mikulicic</li>
<li>Jonathan Wright</li>
<li>James Haggerty</li>
<li>earthfront </li>
<li>Jakob Falke</li>
<li>John Judnich</li>
<li>Chris W</li>
<li>Drosin </li>
<li>John Biesnecker</li>
<li>Alexander Ellis</li>
<li>bb010g </li>
<li>Pau Fernández</li>
<li>Krishna Aradhi</li>
<li>Adrian Hatch</li>
<li>Deniz Kusefoglu</li>
<li>Hans Wennborg</li>
<li>Tim Hutt</li>
<li>John Schmidt</li>
<li>Rasmus Rønn Nielsen</li>
<li>Johann Muszynski</li>
<li>Eigil Skjæveland</li>
<li>Harry </li>
<li>Matus Hamorsky</li>
<li>Fabio Utzig</li>
<li>Gregoire Picquot</li>
<li>Lorenz Bauer</li>
<li>Cameron Miller</li>
<li>Igor Butenko</li>
<li>Akifumi Fukumoto</li>
<li>Alexandra Gillis</li>
<li>david karapetyan</li>
<li>Chad Russell</li>
<li>Wojciech Miłkowski</li>
<li>Ernst Rohlicek</li>
<li>Gudmund Vatn</li>
<li>Martin Angers</li>
<li>Christoph Müller</li>
<li>brian cleary</li>
<li>moomeme </li>
<li>xash </li>
<li>Jacques de Laval</li>
<li>blank </li>
<li>Joran Dirk Greef</li>
<li>Rickard Gustafsson</li>
<li>Mohamed </li>
<li>Romain Beaumont</li>
<li>Nate Dobbins</li>
<li>Paul Anderson</li>
<li>Jon Renner</li>
<li>Karl Syvert Løland</li>
<li>Stanley Zheng</li>
<li>myfreeweb </li>
<li>Dennis Furey</li>
<li>Dana Davis</li>
<li>Drew Carmichael</li>
<li>Doug Thayer</li>
<li>Henryk Gerlach</li>
<li>David Pippenger</li>
<li>Matthew Steele</li>
<li>Alex Alex</li>
<li>Andrew London</li>
<li>Jirka Grunt</li>
<li>Dillon A</li>
<li>Yannik </li>
<li>VilliHaukka </li>
<li>Chris Castle</li>
<li>Timothy Schumann</li>
<li>Antonio D'souza</li>
<li>Damien Dubé</li>
<li>Dbzruler72 </li>
<li>Francisco Vallarino</li>
<li>SP </li>
<li>Silicas </li>
<li>Falk Hüffner</li>
<li>allan </li>
<li>jose maria gonzalez ondina</li>
<li>Adrian Boyko</li>
<li>Benedikt Mandelkow</li>
<li>Will Cassella</li>
<li>Michael Weber</li>
<li>Darren </li>
<li>eliott </li>
<li>Vladimir Kraus</li>
<li>komu </li>
<li>LeRoyce </li>
<li>Jörg Sonnenberger</li>
<li>Alexandru Nedel</li>
<li>Oleg Alexeev</li>
<li>Ilya Semyonov</li>
<li>Brian </li>
<li>Myles Byrne</li>
<li>Jethro Nederhof</li>
<li>Harris Brakmic</li>
<li>Riking </li>
<li>daurnimator </li>
<li>Luke Paireepinart</li>
<li>Paulius Šarka</li>
<li>burtonageo </li>
<li>Neil Wang</li>
<li>Jason Pepas</li>
<li>Chris </li>
<li>Jedd Fenner</li>
<li>Robin Trujillo</li>
<li>Kristleifur Daðason</li>
<li>Raphael Schweikert</li>
<li>Jimmy Andrews</li>
<li>Robin Eidissen</li>
<li>Corentin Kerisit</li>
<li>Jonathan Dahan</li>
<li>Bruce Zeng</li>
<li>Yasuhiro Fujii</li>
<li>Micaiah Parker</li>
<li>Rahul Nair</li>
<li>Justin Voss</li>
<li>Harm Aarts</li>
<li>Dylan </li>
<li>samuel Schneck</li>
<li>Ayodele Akingbule</li>
</ul>
    

    TODO convert github links

    </div>
  </body>
</html>
