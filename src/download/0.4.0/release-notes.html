<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>0.4.0 Release Notes &middot; The Zig Programming Language</title>
    <link rel="icon" href="../../zig-icon.svg">
    <style type="text/css">
      body{
        font-family: system-ui, -apple-system, Roboto, "Segoe UI", sans-serif;
      }
      a {
        text-decoration: none;
      }
      table, th, td {
        border-collapse: collapse;
        border: 1px solid grey;
      }
      th, td {
        padding: 0.1em;
      }
      .t0_1, .t37, .t37_1 {
        font-weight: bold;
      }
      .t2_0 {
        color: grey;
      }
      .t31_1 {
        color: red;
      }
      .t32_1 {
        color: green;
      }
      .t36_1 {
        color: #0086b3;
      }
      .file {
        text-decoration: underline;
      }
      pre,code {
        font-size: 12pt;
      }
      pre > code {
        display: block;
        overflow: auto;
        padding: 0.5em;
        color: #333;
        background: #f8f8f8;
      }
      .table-wrapper {
        width: 100%;
        overflow-y: auto;
      }

      .tok-kw {
          color: #333;
          font-weight: bold;
      }
      .tok-str {
          color: #d14;
      }
      .tok-builtin {
          color: #0086b3;
      }
      .tok-comment {
          color: #777;
          font-style: italic;
      }
      .tok-fn {
          color: #900;
          font-weight: bold;
      }
      .tok-null {
          color: #008080;
      }
      .tok-number {
          color: #008080;
      }
      .tok-type {
          color: #458;
          font-weight: bold;
      }

      #contents {
        max-width: 50em;
        margin: auto;
      }

      h1 a, h2 a, h3 a, h4 a, h5 a {
        text-decoration: none;
        color: #333;
      }

      a.hdr {
        visibility: hidden;
      }
      h1:hover > a.hdr, h2:hover > a.hdr, h3:hover > a.hdr, h4:hover > a.hdr, h5:hover > a.hdr {
        visibility: visible;
      }

      @media (prefers-color-scheme: dark) {
        body{
            background-color:#111;
            color: #bbb;
        }
        a {
            color: #88f;
        }
        table, th, td {
            border-color: grey;
        }
        .t2_0 {
            color: grey;
        }
        .t31_1 {
            color: red;
        }
        .t32_1 {
            color: green;
        }
        .t36_1 {
            color: #0086b3;
        }
        pre > code {
            color: #ccc;
            background: #222;
        }
        .tok-kw {
            color: #eee;
        }
        .tok-str {
            color: #2e5;
        }
        .tok-builtin {
            color: #ff894c;
        }
        .tok-comment {
            color: #aa7;
        }
        .tok-fn {
            color: #e33;
        }
        .tok-null {
            color: #ff8080;
        }
        .tok-number {
            color: #ff8080;
        }
        .tok-type {
            color: #68f;
        }
        h1 a, h2 a, h3 a, h4 a, h5 a {
            color: #aaa;
        }
      }
    </style>
  </head>
  <!--
▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄▄
█░░░░░░░░▀█▄▀▄▀██████░▀█▄▀▄▀██████                                    
░░░░ ░░░░░░░▀█▄█▄███▀░░░ ▀█▄█▄███
cool sunglasses
  -->
  <body>
    <div id="contents">
    <a href="/"><img src="../../zig-logo.svg"></a>
    <h1>0.4.0 Release Notes</h1>
    <p>
    <a href="/download">Download &amp; Documentation</a>
    </p>
    <p>
    Zig is a general-purpose programming language designed for <strong>robustness</strong>,
    <strong>optimality</strong>, and <strong>clarity</strong>. Zig is aggressively pursuing
    its goal of overthrowing C as the de facto language for system programming. Zig intends
    to be so practical that people find themselves using it even if they dislike it.
    </p>
    <p>
    This release features <strong>6 months of work</strong> and
    changes from <strong>46 different contributors</strong>, spread among
    <strong>846 commits</strong>.
    </p>
    <p>
    Special thanks to my <a href="https://www.patreon.com/andrewrk">patrons who provide financial support</a>. You're making Zig sustainable.
    </p>

    {#header_open|Table of Contents#}
    {#nav#}
    {#header_close#}

    {#header_open|LLVM 8#}
    <p>
    This release of Zig upgrades to
    <a href="http://releases.llvm.org/8.0.0/docs/ReleaseNotes.html">LLVM 8</a>.
    Zig operates in lockstep with LLVM; Zig 0.4.0 is not compatible with LLVM 7.
    </p>
    <p>
    Notably this means that Zig now has {#link|WebAssembly Support#}.
    </p>
    {#header_close#}

    {#header_open|FreeBSD Support#}
    <p>Greg V, Marc Tiehuis, and Marcio Giaxa worked together and got FreeBSD working in the stage1
    compiler as well as the Zig standard library.</p>
    TODO look at the issue and pull some content from there
    TODO automated x86_64 CI builds. mention sr.ht 
    {#header_close#}

    {#header_open|NetBSD Support#}
    <p>Maya Rashish ported the stage1 C compiler as well as the Zig Standard Library
    to be compatible with NetBSD. Have a look at their writeup:
    <a href="http://coypu.sdf.org/porting-zig.html">Porting Zig to NetBSD - a fun, speedy port</a>
    </p>
    <p>
    NetBSD is limited to {#link|Tier 2 Support#} due to lack of a continuous integration service,
    as well as a missing implementation of
    {#link|building the system's libc startup files lazily from source|Zig ships with libc#}.
    </p>
    {#header_close#}

    {#header_open|UEFI Support#}
    <p>GitHub user <a href="https://github.com/nebulaeonline">nebulaeonline</a>
    approached the Zig project with an interesting use case: creating a UEFI application.
    </p>
    <p>
    nebulaeonline <a href="https://github.com/ziglang/zig/pull/1855">submitted a pull request</a>
    adding UEFI as a new operating system that Zig recognizes. The patch contained the
    linker configuration and a few updates to the Zig Standard Library.
    </p>
    <p>With this patch merged, nebulaeonline went on to work on their
    <a href="https://github.com/nebulaeonline/nebulae/tree/a5f2bf6f90a3b28af4632cb1f5f54a97320c50d2">UEFI barebones project</a>. It looks like they ended up using C rather than Zig in the end,
    most likely due to Zig's lack of maturity. Here I have linked to the last revision before they
    removed the Zig code, in case anyone wants to poke around.
    Since then Zig has gained {#link|C Pointers#} which was a large pain point for nebulaeonline.
    </p>
    {#header_close#}

    {#header_open|Tier System#}
    <p>
    Zig now uses a "support tier" system to communicate the level of
    support for different targets.
    </p>
    {#header_open|Explanation of Tiers#}
    {#header_open|Tier 1 Support#}
    <ul>
      <li> Not only can Zig generate machine code for these targets, but the standard
   library cross-platform abstractions have implementations for these targets.
   Thus it is practical to write a pure Zig application with no dependency on
   libc.</li>
      <li>The CI server automatically tests these targets on every commit to master
      branch, and updates <a href="/download">ziglang.org/download</a> with links to pre-built binaries.</li>
      <li>These targets have debug info capabilities and therefore produce stack
 traces on failed assertions.</li>
      <li>(<a href="https://github.com/ziglang/zig/issues/514">coming soon</a>) {#link|libc is available for this target even when cross compiling|Zig ships with libc#}.</li>
    </ul>
    {#header_close#}

    {#header_open|Tier 2 Support#}
    <ul>
    <li> There may be some standard library implementations, but many abstractions
   will give an "Unsupported OS" compile error. One can link with libc or other
   libraries to fill in the gaps in the standard library.</li>
   <li> These targets are known to work, but are not automatically tested, so there
     are occasional regressions.</li>
   <li> Some tests may be disabled for these targets as we work toward Tier 1
     support.</li>
    </ul>
    {#header_close#}

    {#header_open|Tier 3 Support#}
    <ul>
    <li>The standard library has little to no knowledge of the existence of this
        target.</li>
   <li>Because Zig is based on LLVM, it has the capability to build for these
     targets, and LLVM has the target enabled by default.</li>
   <li>These targets are not frequently tested; one will likely need to contribute
     to Zig in order to build for these targets.</li>
   <li>The Zig compiler might need to be updated with a few things such as
     <ul>
       <li>what sizes are the C integer types</li>
       <li>C ABI calling convention for this target</li>
       <li>bootstrap code and default panic handler</li>
     </ul>
     <li><code>zig targets</code> is guaranteed to include this target.</li>
    </ul>
    {#header_close#}

    {#header_open|Tier 4 Support#}
    <ul>
      <li>Support for these targets is entirely experimental.</li>
      <li>LLVM may have the target as an experimental target, which means that you
   need to use Zig-provided binaries for the target to be available, or
   build LLVM from source with special configure flags. <code>zig targets</code> will
   display the target if it is available.</li>
   <li>This target may be considered deprecated by an official party,
     <a href="https://support.apple.com/en-us/HT208436">such as macosx/i386</a> in which
     case this target will remain forever stuck in Tier 4.</li>
   <li>This target may only support <code>--emit asm</code> and cannot emit object files.</li>
    </ul>
    {#header_close#}
    {#header_close#}
    {#header_open|Support Table#}
<table>
<thead>
<tr>
<th></th>
<th>freestanding</th>
<th>linux</th>
<th>macosx</th>
<th>windows</th>
<th>freebsd</th>
<th>netbsd</th>
<th>UEFI</th>
<th>other</th>
</tr>
</thead>
<tbody>
<tr>
<td>x86_64</td>
<td>{#link|Tier 2|Tier 2 Support#}</td>
<td>{#link|Tier 1|Tier 1 Support#}</td>
<td>{#link|Tier 1|Tier 1 Support#}</td>
<td>{#link|Tier 1|Tier 1 Support#}</td>
<td>{#link|Tier 2|Tier 2 Support#}</td>
<td>{#link|Tier 2|Tier 2 Support#}</td>
<td>{#link|Tier 2|Tier 2 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
</tr>
<tr>
<td>i386</td>
<td>{#link|Tier 2|Tier 2 Support#}</td>
<td>{#link|Tier 2|Tier 2 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 2|Tier 2 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
</tr>
<tr>
<td>arm</td>
<td>{#link|Tier 2|Tier 2 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
</tr>
<tr>
<td>arm64</td>
<td>{#link|Tier 2|Tier 2 Support#}</td>
<td>{#link|Tier 2|Tier 2 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
</tr>
<tr>
<td>bpf</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>N/A</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
</tr>
<tr>
<td>hexagon</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>N/A</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
</tr>
<tr>
<td>mips</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>N/A</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
</tr>
<tr>
<td>powerpc</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>N/A</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
</tr>
<tr>
<td>amdgcn</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>N/A</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
</tr>
<tr>
<td>sparc</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>N/A</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
</tr>
<tr>
<td>s390x</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>N/A</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
</tr>
<tr>
<td>lanai</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>N/A</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
</tr>
<tr>
<td>wasm32</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>wasm64</td>
<td>{#link|Tier 3|Tier 3 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
<td>N/A</td>
</tr>
<tr>
<td>avr</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
</tr>
<tr>
<td>riscv32</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
</tr>
<tr>
<td>riscv64</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
</tr>
<tr>
<td>xcore</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
</tr>
<tr>
<td>nvptx</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
</tr>
<tr>
<td>msp430</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
</tr>
<tr>
<td>r600</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
</tr>
<tr>
<td>arc</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
</tr>
<tr>
<td>tce</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
</tr>
<tr>
<td>le</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
</tr>
<tr>
<td>amdil</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
</tr>
<tr>
<td>hsail</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
</tr>
<tr>
<td>spir</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
</tr>
<tr>
<td>kalimba</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
</tr>
<tr>
<td>shave</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
</tr>
<tr>
<td>renderscript</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
<td>N/A</td>
<td>{#link|Tier 4|Tier 4 Support#}</td>
</tr>
</tbody>
</table>
    {#header_close#}
    {#header_close#}

    {#header_open|Zig is also a C Compiler#}
    TODO
    <p>TODO mention nostdinc</p>
    <p>TODO mention no longer has default system paths</p>
    <p>TODO add `zig cc` command to act like a C compiler. #490</p>
    first class support for compiling C code
    
    New CLI parameter: --c-source [options] [file]
    
    It even works with `--cache on` when there are transitive dependencies.
    
    Instead of `builder.addCExecutable`, use `builder.addExecutable` and pass
    `null` for the root source file. Then use `builder.addCSourceFile`,
    which takes the path to the C code, and a list of C compiler args.
    Be sure to linkSystemLibrary("c") if you want libc headers to be
    available.
    
    print the command that failed when C source code fails to build
    
    also respect the --color arg when building C code

    {#header_open|Libc Detection#}
    better libc detection (#1996)
    
    * better libc detection
    
    This introduces a new command `zig libc` which prints
    the various paths of libc files. It outputs them to stdout
    in a simple text file format that it is capable of parsing.
    You can use `zig libc libc.txt` to validate a file.
    
    These arguments are gone:
    --libc-lib-dir [path]        directory where libc crt1.o resides
    --libc-static-lib-dir [path] directory where libc crtbegin.o resides
    --msvc-lib-dir [path]        (windows) directory where vcruntime.lib resides
    --kernel32-lib-dir [path]    (windows) directory where kernel32.lib resides
    
    Instead we have this argument:
    --libc [file]                Provide a file which specifies libc paths
    
    This is used to pass a libc text file (which can be generated with
    `zig libc`). So it is easier to manage multiple cross compilation
    environments.
    
    `--cache on` now works when linking against libc.
    
    `ZigTarget` now has a bool field `is_native`
    
    Better error messaging when you try to link against libc or use
    `@cImport` but the various paths cannot be found. It should also be
    faster.
    
    * save native_libc.txt in zig-cache
    
    This avoids having to detect libc at runtime on every invocation.

    introduce sys_include_dir for when sys/* files are not with stdlib.h

    dynamic linker path is independent from libc installation
    dynamic_linker_path can be null on some targets
    windows and uefi don't have dynamic linkers

    {#header_close#}
    {#header_open|Zig ships with libc#}
    TODO
    stop linking against gcc files
    libunwind
    libcxx
    process headers tool

    Jay Weisskopf removed glibc compat shim with restrictive license.
    
    Unlike the other glibc source code checked into the repo, `csu/init.c`
    did not have a license clause that allowed linking without restrictions.
    
    `_IO_stdin_used` is the only symbol in the file and appears to be a 20
    year old compatibility shim for the glibc 2.0 ABI. Obsolete in 2.1.

    {#header_close#}
    {#header_close#}

    {#header_open|WebAssembly Support#}
    <p>Ben Noordhuis fixed build-exe for --target-arch wasm32 (#1570).</p>
    <p>TODO https://github.com/ziglang/zig/issues/1622</p>
    <p>TODO</p>
    {#header_close#}

    {#header_open|Single-Threaded Builds#}
    <p>TODO --single-threaded</p>
    <p>TODO explain info from docs</p>

    <p>John Schmidt made ThreadSafeFixedBufferAllocator alias FixedBufferAllocator when --single-threaded. #1910</p>
    {#header_close#}

    {#header_open|Zig Build System#}
    <p>
    When one invokes the <code>zig build</code> command, this executes a user-defined
    build script. This is called the <strong>zig build system</strong>. It received
    a few improvements during this release cycle:
    </p>
    <ul>
      <li>Zig uses <code>os_self_exe_path</code> to determine exe path not <code>argv[0]</code></li>
      <li>Tests as part of the build system support all of the same API as executables,
      libraries, and objects.</li>
      <li>{#syntax#}linkLibrary{#endsyntax#} will make the target depend on libc if the source does.</li>
      <li>When building C source file(s), don't try to generate .h files.</li>
      <li>Added {#syntax#}builder.addFmt{#endsyntax#} API and use it to test stage1 zig fmt. #1968</li>
      <li>Fixed build.zig not respecting <code>--static</code>. #2027</li>
    </ul>
    breaking changes to zig build API and improved caching
    
     * in Zig build scripts, getOutputPath() is no longer a valid function
       to call, unless setOutputDir() was used, or within a custom make()
       function. Instead there is more convenient API to use which takes
       advantage of the caching system. Search this commit diff for
       `exe.run()` for an example.
     * Zig build by default enables caching. All build artifacts will go
       into zig-cache. If you want to access build artifacts in a convenient
       location, it is recommended to add an `install` step. Otherwise
       you can use the `run()` API mentioned above to execute programs
       directly from their location in the cache. Closes #330.
       `addSystemCommand` is available for programs not built with Zig
       build.
     * Please note that Zig does no cache evicting yet. You may have to
       manually delete zig-cache directories periodically to keep disk
       usage down. It's planned for this to be a simple Least Recently
       Used eviction system eventually.
     * `--output`, `--output-lib`, and `--output-h` are removed. Instead,
       use `--output-dir` which defaults to the current working directory.
       Or take advantage of `--cache on`, which will print the main output
       path to stdout, and the other artifacts will be in the same directory
       with predictable file names. `--disable-gen-h` is available when
       one wants to prevent .h file generation.
     * `@cImport` is always independently cached now. Closes #2015.
       It always writes the generated Zig code to disk which makes debug
       info and compile errors better. No more "TODO: remember C source
       location to display here"
     * Fix .d file parsing. (Fixes the MacOS CI failure)
     * Zig no longer creates "temporary files" other than inside a
       zig-cache directory.
    
    This breaks the CLI API that Godbolt uses. The suggested new invocation
    can be found in this commit diff, in the changes to `test/cli.zig`.
    {#header_open|Build Artifact Caching#}
    TODO
    `@cImport` works with `--cache on`
    
    We pass -MD -MF args to clang when doing `@cImport`, which
    gives us a complete list of files that the C code read from.
    Then we add these to the cache. So even when using `@cImport`
    Zig's caching system remains perfect. This is a proof of concept
    for the mechanism that the self-hosted compiler will use to
    watch and rebuild files.

    fix running things with zig build on Windows
    
    Windows doesn't have rpaths for DLLs so we instead add
    search paths to Path environment variable when running
    an executable that depends on DLLs built with zig build.



    stage1 caching system: detect problematic mtimes. #2045

    {#header_close#}
    {#header_close#}

    {#header_open|Valgrind Compatibility#}
    <p>
    Zig's compatibility with Valgrind has improved. Notably,
    Valgrind 3.14 fixes
    <a href="https://github.com/ziglang/zig/issues/896">a bug where Zig programs' debug symbols
    would not be detected</a>. Because of this, the <code>--no-rosegment</code>
    command line option is removed from Zig. It was only meant to be a temporary workaround.
    </p>
    <p>TODO undefined language integration. --enable-valgrind --disable-valgrind</p>
    <p>TODO note that undefined sets memory to 0xaa</p>
    <p>TODO demo it</p>
    <p>TODO daurnimator added a valgrind module to the standard library.</p>

    valgrind client requests for undefined values
    
    with this change, when you assign undefined, zig emits a few
    assembly instructions to tell valgrind that the memory is undefined
    
    it's on by default for debug builds, and disabled otherwise. only
    support for linux, darwin, solaris, mingw on x86_64 is currently
    implemented.
    
    --disable-valgrind turns it off even in debug mode.
    --enable-valgrind turns it on even in release modes.
    
    It's always disabled for compiler_rt.a and builtin.a.
    
    Adds `@import("builtin").valgrind_support` which lets code know
    at comptime whether valgrind client requests are enabled.
    
    See #1989
    {#header_close#}

    {#header_open|zig fmt#}
    TODO available in stage1
    TODO improvements

    <p>TODO Mention the discussion about alignment.</p>

    <p>
    <code>zig fmt</code> now has a <code>--check</code> flag, which does everything
    except modify file contents. That is, it lists non-conforming files on stdout,
    and then exits with an error if the list is non-empty. #1558 #1555
    </p>
    <p>More improvements:</p>
    <ul>
      <li>Fixed infix operator before multiline string literal.</li>
      <li>Fixed argv[0] handled incorrectly.</li>
      <li>Removed <code>this</code> as a keyword since it was
        <a href="/download/0.3.0/release-notes.html#remove-this">removed in 0.3.0</a>.</li>
    </ul>
    {#header_close#}

    {#header_open|C Translation Status#}
    TODO explain #1964

    <p>In addition the following improvements were made:</p>
    <ul>
    <li>support no-op cast</li>
    <li><code>--verbose-cimport</code> prints clang command</li>
    <li>Avoid array concatenation if the init node is empty, for clarity. -Antoine Vugliano</li>
    <li>Only detect ints as negative if they are signed. -Antoine Vugliano</li>
    <li>Correct array concatenation for incomplete C array initializers. -Antoine Vugliano</li>
    <li>Get real child type of array type for incomplete initializers and/or multi-dimensional arrays. -Antoine Vugliano</li>
    <li>LemonBoy implemented translation of parameterless C functions (#1978).
      This solves <a href="https://stackoverflow.com/questions/49892119/zig-translate-c-doesnt-translate-main-function">the only StackOverflow question tagged "Zig"</a>.
    </li>
    </ul>

    Sahnvour translate-c: add support for integer suffixes on 0 (zero) litteral inside macro definitions
    {#header_close#}

    {#header_open|Grammar Formalization and Specification#}
    <p>Jimmi lead this effort. Starting with solving the return type ambiguity (#1628),
    he then moved on to create <a href="https://github.com/ziglang/zig-spec">zig-spec</a>,
    update the <a href="/documentation/0.4.0/#Grammar">grammar section of the language reference</a>,
    and update the stage1 parser to conform.
    </p>
    <p>
    Thanks to his efforts, Zig syntax now has a formal grammar specification and three independent
    implementations, despite the fact that the syntax is not fully stablized.
    </p>
    {#header_close#}

    {#header_open|Documentation#}
    <p>The <a href="/documentation/0.4.0">language reference manual</a>.
       now has a light theme by default, but respects the user's light/dark
       preference via the
       <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@media/prefers-color-scheme">prefers-color-scheme media query</a>.
       Most browsers don't support this yet, so we just have to wait patiently
       for the future to arrive.
    </p>
    <p>Instead of a side bar index, the index is inline with the rest of the
       content. This is simpler and more friendly to all user agents, and means
       we don't need the media query for mobile devices. It also makes
       back-references work, so now headers link to the table of contents
       and the table of contents links to headers.
    </p>
    <p>
      Both of these things apply to this release notes document as well as the
      language reference manual.
    </p>
    <p>There is still no HTML documentation available for the Zig Standard Library.
    See the {#link|Roadmap#} for more details.</p>
    <p>The
    <a href="/documentation/master/">master branch language reference manual</a>
    is now automatically updated on master branch commits
    that pass all tests on all platforms.</p>
    <p>In addition to the above, the following changes were made to the documentation:</p>
    <ul>
      <li>Improved: <a href="/documentation/0.4.0/#Pointers">Pointers</a></li>
      <li>New section: <a href="/documentation/0.4.0/#volatile">volatile</a></li>
      <li>New section: <a href="/documentation/0.4.0/#Optional-Pointers">Optional Pointers</a></li>
      <li>Improved: <a href="/documentation/0.4.0/#Operators">Operators</a></li>
      <li>Improved: <a href="/documentation/0.4.0/#Pass-by-value-Parameters">Pass-by-value Parameters</a></li>
      <li>Improved: <a href="/documentation/0.4.0/#Shadowing">Shadowing</a></li>
      <li>John Schmidt made some tweaks to function documentation (#1961)</li>
      <li>New section: <a href="/documentation/0.4.0/#packed-struct">packed struct</a></li>
      <li>New section: <a href="/documentation/0.4.0/#Zero-Bit-Types">Zero Bit Types</a></li>
      <li>Improved: <a href="/documentation/0.4.0/#union">union</a></li>
    </ul>
    {#header_close#}

    {#header_open|Language Changes#}
    <ul>
    <li>Renamed <code>section</code> keyword to {#syntax#}linksection{#endsyntax#}. #1152</li>
    <li>
      Zig no longer has an <a href="/documentation/0.4.0/#Implicit-Casts">implicit cast</a> from {#syntax#}T{#endsyntax#} to {#syntax#}*const T{#endsyntax#}. #1465
      <ul>
        <li>removed implicit cast from {#syntax#}*T{#endsyntax#} to {#syntax#}?*const T{#endsyntax#}</li>
        <li>removed implicit cast from {#syntax#}T{#endsyntax#} to {#syntax#}?*const T{#endsyntax#} when {#syntax#}T{#endsyntax#} is a struct/union</li>
      </ul>
    </li>
    <li>Remove <code>@minValue</code>,<code>@maxValue</code>; add {#syntax#}std.math.minInt{#endsyntax#} and {#syntax#}std.math.maxInt{#endsyntax#}. #1466 #1476</li>
    <li>Now the length expression in array type syntax implies {#syntax#}comptime{#endsyntax#},
      so function calls, for example, will be evaluated without the need for an explicit
      {#syntax#}comptime{#endsyntax#} block. Similarly:
      <ul>
        <li>{#syntax#}**{#endsyntax#} and {#syntax#}++{#endsyntax#} operators force comptime
          on operands. #1707</li>
      </ul>
    </li>
      <li>
        <a href="/documentation/0.4.0/#for">for</a> now works with single-item pointers to arrays. #1663 -Jimmi Holst Christensen
      </li>
    <li>Added <a href="/documentation/0.4.0/#bswap">@bswap</a> builtin function. #767</li>
    <li><strong>vegecode</strong> added the <a href="/documentation/0.4.0/#bitreverse">@bitreverse</a> builtin function. #767</li>
    <li><a href="/documentation/0.4.0/#sizeOf">@sizeOf</a> is now defined to be the "ABI size"
      rather than the "store size". Quoting from the documentation:
      <br><br>
      This size may contain padding bytes. If there were two consecutive T in memory,
      this would be the offset in bytes between element at index 0 and the element at
      index 1. For <a href="/documentation/0.4.0#Integers">Integers</a>, consider whether
      you want to use {#syntax#}@sizeOf(T){#endsyntax#} or
      {#syntax#}@typeInfo(T).Int.bits{#endsyntax#}.
      <br><br>
      This fixes breaches of the guarantee that {#syntax#}@sizeOf(T) >= @alignOf(T){#endsyntax#}.
      It also fixes {#syntax#}std.mem.secureZero{#endsyntax#} for integers where this guarantee
      previously was breached, and it fixes {#syntax#}std.mem.Allocator{#endsyntax#} for integers
      where this guarantee previously was breached. #1851 #1864</li>
    <li>emekoi made <a href="/documentation/0.4.0#enumToInt">@enumToInt</a> work on {#syntax#}union(enum){#endsyntax#}. #1711</li>
    <li>Better handling of arrays in packed structs. #677<ul>
        <li>Allow extern structs to be in packed structs.</li>
        <li>More helpful error messages when trying to use types in packed structs
          that are not allowed.</li>
        <li>Support arrays in packed structs even when they are not byte-aligned.</li>
        <li>Add compile error for using arrays in packed structs when the padding bits
          would be problematic. This is necessary since Zig does not have packed arrays.</li>
      </ul></li>
    <li>Better field access of types which have one possible value. #1554<ul>
        <li>When you do field access of a type which only has one possible
          value, the result is comptime-known.</li>
       <li>StorePtr instructions which operate on pointers to types which
         only have one possible value, the result is a comptime no-op.</li>
      </ul></li>
      <li><a href="/documentation/0.4.0/#returnAddress">@returnAddress</a> and
        <a href="/documentation/0.4.0/#frameAddress">@frameAddress</a> now return a {#syntax#}usize{#endsyntax#} rather than a pointer.</li>
    </ul>

    {#header_open|Implicit Casting Comptime-Known Integers#}
    <p>All numbers with comptime known values now implicitly cast
    to all number types. If the value does not fit, a compile error
    is emitted.</p>
    {#code_begin|test|comptime_ints#}
const std = @import("std");
const assert = std.debug.assert;

test "implicit cast large integer to smaller with comptime value" {
    const x: u64 = 255;
    const y: u8 = x;
    assert(y == 255);
}
    {#code_end#}
    <p>#422 #1712</p>
    {#header_close#}

    {#header_open|Vectors and SIMD#}
    <p>TODO</p>
    <p>TODO issue #903</p>
    <p>TODO Jimmi helped a lot</p>
    {#header_close#}

    {#header_open|comptime memory reinterpretation#}
    <p>TODO</p>
    <p>comptime: ability to @ptrCast to an extern struct and read fields</p>
    <p>demo comptime support for pointer arithmetic with hard coded addresses. 57a7ab0d330416f15c0288004b67101c1c3e9629</p>
    <p>TODO demo packed structs and extern structs</p>
    <p>TODO mention @sliceToBytes</p>
    {#header_close#}

    {#header_open|Thread-Local Storage#}
    <p>TODO</p>

    {#header_open|Avoid Creating Unnecessary Global Constants#}
    <p>
    This deletes some legacy cruft, and produces leaner object files.
    Example:
    </p>
    {#code_begin|syntax#}
var x: i32 = 1234;

export fn entry() i32 {
    return x;
}
    {#code_end#}
    
    <p>This produced:</p>
    
    <pre><code>@x = internal unnamed_addr global i32 1234, align 4
@0 = internal unnamed_addr constant i32* @x, align 8</code></pre>
    
    <p>
    and @0 was never even used. After Zig 0.4.0, @0 is not produced.
    </p>
    
    <p>
    This fixes a bug: Zig was creating invalid LLVM IR when one of these
    globals that shouldn't exist takes the address of a thread local
    variable. In {#link|LLVM 8#}, it would produce a linker error. But
    probably after my bug report is solved it will be caught by the IR
    verifier.
    </p>

    <p>
    Thanks to <strong>Rui Ueyama</strong> and <strong>George Rimar</strong> who helped me
    troubleshoot this problem
    when I filed an <a href="https://bugs.llvm.org/show_bug.cgi?id=40652">LLVM bug report</a>.
    </p>
    {#header_close#}
    {#header_close#}

    {#header_open|C Pointers#}
    <p>TODO</p>
    <p>It's planned to <a href="https://github.com/ziglang/zig/issues/1967">support `if`, `orelse`, `null`, and `.?` for C pointers</a>.</p>
    <p>show off lots of examples including safety for null pointers.</p>
    {#header_close#}

    {#header_open|Removal of the Namespace Type#}
    <p>TODO remove namespace type; files are empty structs. #1047</p>
    struct types get fully qualified names and function symbol names become fully qualified

    compile error for import outside package path
    
    closes #2024
    
    there's a new cli option `--main-pkg-path` which you can use to choose
    a different root package directory besides the one inferred from the
    root source file
    
    and a corresponding build.zig API:
    foo.setMainPkgPath(path)

    rename std lib files to new convention

    {#header_close#}
    {#header_close#}

    {#header_open|Standard Library API Changes#}
    <ul>
      <li>{#syntax#}std.debug.failing_allocator{#endsyntax#} is now a {#syntax#}*Allocator{#endsyntax#}
        rather than the {#syntax#}FailingAllocator{#endsyntax#} state. -Jimmi Holst Christensen</li>
      <li>Renamed {#syntax#}std.event.tcp{#endsyntax#} to {#syntax#}std.event.net{#endsyntax#}.</li>
      <li>update std lib API for I/O<ul>
        <li>Renamed {#syntax#}std.io.FileInStream{#endsyntax#} to {#syntax#}std.os.File.InStream{#endsyntax#}</li>
        <li>Renamed {#syntax#}std.io.FileInStream.init(file){#endsyntax#} to {#syntax#}file.inStream(){#endsyntax#}</li>
        <li>Renamed {#syntax#}std.io.FileOutStream{#endsyntax#} to {#syntax#}std.os.File.OutStream{#endsyntax#}</li>
        <li>Renamed {#syntax#}std.io.FileOutStream.init(file){#endsyntax#} to {#syntax#}file.outStream(){#endsyntax#}</li>
        <li>Fewer error code possibilities from several os functions</li>
        <li>Renamed {#syntax#}std.event.net.socketRead{#endsyntax#} to {#syntax#}std.event.net.read{#endsyntax#}</li>
        <li>Renamed {#syntax#}std.event.net.socketWrite{#endsyntax#} to {#syntax#}std.event.net.write{#endsyntax#}</li>
        <li>Added {#syntax#}std.event.net.readv{#endsyntax#}</li>
        <li>Added {#syntax#}std.event.net.writev{#endsyntax#}</li>
        <li>Added {#syntax#}std.event.net.readvPosix{#endsyntax#}</li>
        <li>Added {#syntax#}std.event.net.writevPosix{#endsyntax#}</li>
        <li>Added {#syntax#}std.event.net.OutStream{#endsyntax#}</li>
        <li>Added {#syntax#}std.event.net.InStream{#endsyntax#}</li>
        <li>Added {#syntax#}std.event.io.InStream{#endsyntax#}</li>
        <li>Added {#syntax#}std.event.io.OutStream{#endsyntax#}</li>
        </ul></li>
      <li>std lib: posixRead can return less than buffer size. #1414
        <ul>
          <li>{#syntax#}std.io.InStream.read{#endsyntax#} now can return less than buffer size</li>
          <li>introduce {#syntax#}std.io.InStream.readFull{#endsyntax#} for previous behavior</li>
    
          <li>add {#syntax#}std.os.File.openWriteNoClobberC{#endsyntax#}</li>
          <li>rename {#syntax#}std.os.deleteFileWindows{#endsyntax#} to {#syntax#}std.os.deleteFileW{#endsyntax#}</li>
          <li>remove {#syntax#}std.os.deleteFilePosix{#endsyntax#}</li>
          <li>add {#syntax#}std.os.deleteFileC{#endsyntax#}</li>
    
          <li>{#syntax#}std.os.copyFile{#endsyntax#} no longer takes an allocator</li>
          <li>{#syntax#}std.os.copyFileMode{#endsyntax#} no longer takes an allocator</li>
          <li>{#syntax#}std.os.AtomicFile{#endsyntax#} no longer takes an allocator</li>
    
          <li>add {#syntax#}std.os.renameW{#endsyntax#}</li>
          <li>add windows support for {#syntax#}std.os.renameC{#endsyntax#}</li>
        </ul>
      </li>
      <li>add {#syntax#}std.os.linux.vfork{#endsyntax#} and {#syntax#}std.os.linux.exit_group{#endsyntax#}</li>
      <li>changed {#syntax#}std.os.time.sleep(seconds: usize, nanoseconds: usize){#endsyntax#} to {#syntax#}(nanoseconds: u64){#endsyntax#}. -Marc Tiehuis</li>
      <li>Added {#syntax#}std.math.maxInt{#endsyntax#} and {#syntax#}std.math.minInt{#endsyntax#}</li>
      <li>Added {#syntax#}std.crypto.HmacBlake2s256{#endsyntax#}</li>
      <li>Added {#syntax#}std.net.Address.port{#endsyntax#} -Josh Wolfe</li>
      <li>Added {#syntax#}std.io.NullOutStream{#endsyntax#} and {#syntax#}std.io.CountingOutStream{#endsyntax#} -Jimmi Holst Christensen</li>
      <li>{#syntax#}std.io.InStream(E).readStruct{#endsyntax#} returns a value instead of taking a pointer. -Jimmi Holst Christensen</li>
      <li>Added {#syntax#}std.atomic.Int.set{#endsyntax#}. -Josh Wolfe</li>
      <li>Added {#syntax#}std.meta.intToEnum{#endsyntax#}.</li>
      <li>Revamped the {#syntax#}std.rand.Rand{#endsyntax#} API to better handle the
        concept of bias. -Josh Wolfe<ul>
          <li>Added {#syntax#}std.rand.Rand.uintLessThanBiased{#endsyntax#}</li>
          <li>Added {#syntax#}std.rand.Rand.uintAtMostBiased{#endsyntax#}</li>
          <li>Added {#syntax#}std.rand.Rand.intRangeLessThanBiased{#endsyntax#}</li>
          <li>Added {#syntax#}std.rand.Rand.intRangeAtMostBiased{#endsyntax#}</li>
        </ul></li>
      <li>Added {#syntax#}std.HashMap.getOrPutValue{#endsyntax#}. -Jimmi Holst Christensen</li>
      <li>Jimmi Holst Christensen revamped {#syntax#}std.io.readLine{#endsyntax#}<ul>
          <li>{#syntax#}std.io.readLine{#endsyntax#} has a new prototype</li>
          <li>Added {#syntax#}std.io.readLineFrom{#endsyntax#}</li>
          <li>Added {#syntax#}std.io.readLineSlice{#endsyntax#}</li>
          <li>Added {#syntax#}std.io.readLineSliceFrom{#endsyntax#}</li>
        </ul></li>
        <li>Added {#syntax#}std.io.SeekableStream{#endsyntax#}. Dwarf debug info
          is modified to use this instead of {#syntax#}std.os.File{#endsyntax#}
          directly to make it easier for
          <a href="https://andrewkelley.me/post/zig-stack-traces-kernel-panic-bare-bones-os.html">bare metal projects to take advantage of debug info parsing</a>.</li>
        <li>Added {#syntax#}std.debug.StackIterator{#endsyntax#}.</li>
      </li>
      <li>rework the readInt/writeInt functions:
<ul>
<li>io.InStream().readIntNe renamed to readIntNative</li>
<li>io.InStream().readIntLe renamed to readIntLittle</li>
<li>io.InStream().readIntBe renamed to readIntBig</li>
<li>introduced io.InStream().readIntForeign</li>
<li>io.InStream().readInt has parameter order changed</li>
<li>io.InStream().readVarInt has parameter order changed</li>
<li>io.InStream().writeIntNe renamed to writeIntNative</li>
<li>introduced io.InStream().writeIntForeign</li>
<li>io.InStream().writeIntLe renamed to writeIntLittle</li>
<li>io.InStream().writeIntBe renamed to writeIntBig</li>
<li>io.InStream().writeInt has parameter order changed</li>
<li>mem.readInt has different parameters and semantics</li>
<li>introduced mem.readIntNative</li>
<li>introduced mem.readIntForeign</li>
<li>mem.readIntBE renamed to mem.readIntBig and different API</li>
<li>mem.readIntLE renamed to mem.readIntLittle and different API</li>
<li>introduced mem.readIntSliceNative</li>
<li>introduced mem.readIntSliceForeign</li>
<li>introduced mem.readIntSliceLittle</li>
<li>introduced mem.readIntSliceBig</li>
<li>introduced mem.readIntSlice</li>
<li>mem.writeInt has different parameters and semantics</li>
<li>introduced mem.writeIntNative</li>
<li>introduced mem.writeIntForeign</li>
<li>mem.writeIntBE renamed to mem.readIntBig and different semantics</li>
<li>mem.writeIntLE renamed to mem.readIntLittle and different semantics</li>
<li>introduced mem.writeIntSliceForeign</li>
<li>introduced mem.writeIntSliceNative</li>
<li>introduced mem.writeIntSliceBig</li>
<li>introduced mem.writeIntSliceLittle</li>
<li>introduced mem.writeIntSlice</li>
<li>removed mem.endianSwapIfLe</li>
<li>removed mem.endianSwapIfBe</li>
<li>removed mem.endianSwapIf</li>
<li>added mem.littleToNative</li>
<li>added mem.bigToNative</li>
<li>added mem.toNative</li>
<li>added mem.nativeTo</li>
<li>added mem.nativeToLittle</li>
<li>added mem.nativeToBig</li>
</ul>
      </li>
      <li>Add {#syntax#}error.DeviceBusy{#endsyntax#} as a possible result of {#syntax#}std.os.posixOpen{#endsyntax#}. I observed <code>EBUSY</code> when trying to open for writing a tty fd that is already opened with screen.</li>
      <li>
        {#syntax#}std.debug.assert{#endsyntax#} no longer has special behavior for test builds.
        Use {#syntax#}std.testing.expect{#endsyntax#} to detect test failures in a way that will
        work in release builds. See {#link|assert vs expect#}.
      </li>
      <li>
        {#syntax#}std.mem.Allocator.create{#endsyntax#} is removed.
        {#syntax#}std.mem.Allocator.createOne{#endsyntax#} is renamed to
        {#syntax#}std.mem.Allocator.create{#endsyntax#}.
    The problem with the previous API is that even after copy elision,
    the initalization value passed as a parameter would always be a copy.
    With the new API, once copy elision is done, initialization
    functions can directly initialize allocated memory in place. #1872 #1873
      </li>
      <li>
        {#syntax#}std.mem.split{#endsyntax#} is removed.
        {#syntax#}std.mem.separate{#endsyntax#} and {#syntax#}std.mem.tokenize{#endsyntax#} are added.
      </li>
      <li>Marc Tiehuis added {#syntax#}std.fmt.parseFloat{#endsyntax#}.
        This is not intended to be the long-term implementation as it doesn't
        provide various properties that we eventually will want (e.g.
        round-tripping, denormal support). It also uses {#syntax#}f64{#endsyntax#} internally so the
        wider {#syntax#}f128{#endsyntax#} will be inaccurate. See #2207 for robust float parsing
        in the Zig Standard Library.</li>
      <li>John Schmidt added {#syntax#}std.PriorityQueue{#endsyntax#}.</li>
      <li>Added {#syntax#}std.os.posixMProtect{#endsyntax#}.</li>
      <li>{#syntax#}std.os.changeCurDir{#endsyntax#} no longer has an allocator parameter.</li>
    </ul>

    {#header_open|assert vs expect#}
    <p>Previously, {#syntax#}std.debug.assert{#endsyntax#} would
    <a href="/documentation/0.4.0/#panic">@panic</a> in test builds,
    if the assertion failed. Now, it's always {#syntax#}unreachable{#endsyntax#}.</p>
    
    <p>This makes release mode test builds more accurately test
    the actual code that will be run.</p>
    
    <p>However this requires tests to call {#syntax#}std.testing.expect{#endsyntax#}
    rather than {#syntax#}std.debug.assert{#endsyntax#} to make sure output is correct.</p>
    
    <p>Here is the explanation of when to use either one, copied from
    the assert doc comments:</p>
    
    <p>
    Inside a test block, it is best to use the {#syntax#}std.testing{#endsyntax#} module
    rather than assert, because assert may not detect a test failure
    in <a href="/documentation/0.4.0/#ReleaseFast">ReleaseFast</a> and
    <a href="/documentation/0.4.0/#ReleaseSmall">ReleaseSmall</a> modes.
    Outside of a test block, assert is the correct function to use.</p>
    <p>See #1304.</p>
    {#header_close#}

    {#header_open|std.debug.captureStackTrace#}
    <p>TODO demo usage</p>
    <p>TODO explain general purpose debug allocator</p>
    {#header_close#}
    {#header_close#}

    {#header_open|Please Welcome Antoine Vugliano to the Core Zig Team#}
    <p>
    I am pleased to announce our newest Zig team member, <a href="https://github.com/Sahnvour">Antoine Vugliano</a>.
    </p>
    <p>
He has shown continued dedication and discipline in his contributions
to the Zig programming language project. The quality of his work speaks
for itself.
    </p>
    <p>
I look forward to working with Antoine as we continue to push Zig
toward 1.0.0 and beyond.
    </p>
    {#header_close#}

    {#header_open|Thank you contributors!#}
    <p>
    If you are looking to contribute to Zig, have a look at the
    <a href="https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3A%22contributor+friendly%22">issues labeled Contributor Friendly</a>.
    </p>
    <ul>
      <li><strong>Shawn Landden</strong> added arm64 Linux support to the Zig standard library.
        Note, however, that the arm64-linux target remains a {#link|Tier 2 Support#} target,
        mainly due to lack of continuous integration testing.
      </li>
      <li><strong>Shawn Landden</strong> removed an invalid formatted printing test that relied
        on negative NaN.</li>
      <li><strong>Shawn Landden</strong> fixed ELF auxv handling.</li>
      <li><strong>Wink Saville</strong> added tests to the Zig standard library.</li>
      <li><strong>emekoi</strong> added dynamic library loading for windows. #1594</li>
      <li><strong>emekoi</strong> maintained the MinGW build of Zig.</li>
      <li><strong>Wink Saville</strong> Add doc comment for tokenLocationPtr (#1618)</li>
      <li><strong>emekoi</strong> added math.pow support for integer types and math.powi. #1637 (#1642)</li>
      <li><strong>tgschultz</strong> added std.meta - helper functions for doing reflection. #1662</li>
      <li><strong>Greg V</strong> and <strong>Marc Tiehuis</strong> implemented FreeBSD support in the stage1 compiler and standard library.</li>
      <li><strong>emekoi</strong> made the documentation headers have self links for sharing. #1667</li>
      <li><strong>Ryan Saunderson</strong> fixed detecting the latest installed version of the
        Windows SDK and related tests. #1665</li>
      <li><strong>kristopher tate</strong> exposed {#syntax#}std.crypto.HmacBlake2s256{#endsyntax#}</li>
      <li><strong>emekoi</strong> made terminal color output of the compiler more consistent (#1706)</li>
      <li><strong>Matthew O'Connor</strong> updated {#syntax#}std.rb{#endsyntax#} to conform to the
        <a href="/documentation/0.4.0/#Style-Guide">style guide</a>.</li>
      </li>
      <li><strong>kristopher tate</strong> added support for printing hex bytes on slices</li>
      <li><strong>Vallentin</strong> fixed documentation typos</li>
      <li><strong>kristopher tate</strong> made the internal compiler error handling more robust</li>
      <li><strong>Duncan</strong> fixed the setsockopt syscall on linux.</li>
      <li><strong>Wink Saville</strong> fixed {#syntax#}std.json.pushToParent{#endsyntax#} to work for arrays of Objects</li>
      <li><strong>Wink Saville</strong> added {#syntax#}SegmentedList.shrink{#endsyntax#}</li>
      <li><strong>Wink Saville</strong> renamed json tests to be easily filtered</li>
      <li><strong>daurnimator</strong> added {#syntax#}std.meta.stringToEnum{#endsyntax#}</li>
      <li><strong>kristopher tate</strong> introduced the concept of {#syntax#}std.mem.separate{#endsyntax#} vs {#syntax#}std.mem.tokenize{#endsyntax#}.</li>
      <li><strong>daurnimator</strong> added {#syntax#}std.math.IntFittingRange{#endsyntax#}</li>
      <li><strong>daurnimator</strong> added {#syntax#}std.LinkedList.concat{#endsyntax#}</li>
      <li><strong>dbandstra</strong> made {#syntax#}std.fmt.parseUnsigned{#endsyntax#} handle types less than 8 bits wide.</li>
      <li><strong>kristopher tate</strong> reduced code bloat by having {#syntax#}std.mem.join{#endsyntax#} and {#syntax#}std.os.path.join{#endsyntax#} use a slice parameter rather than var args.</li>
      <li><strong>Suirad</strong> updated the standard library to use GetEnvironmentStringsW instead of GetEnvironmentStringsA. #534</li>
      <li><strong>tgschultz</strong> added serialization and deserialization abstractions to the zig standard library.</li>
      <li><strong>Henry Nelson</strong> documented explicitly ignoring expression values.</li>
      <li><strong>Jay Weisskopf</strong> improved the documentation - and these release notes - to use the system-ui font family, as well as fallbacks for when this is not available.</li>
      <li><strong>Wink Saville</strong> added compiler_rt routines for float to signed integer conversion</li>
      <li><strong>kristopher tate</strong> added a temporary workaround to break a false positive dependency loop when a struct depends on its own alignment. #1832 #2174</li>
      <li><strong>tgschultz</strong> removed unnecessary allocator field from Linux implementation of
        std.DynLib and improved test coverage.</li>
      <li><strong>alexander</strong> implemented switching on bools. #1768</li>
      <li><strong>alexander</strong> Added DIFlagStaticMember flag to functions. This
        prevents LLVM from generating debug info for struct member functions with a
        pointer as the first parameter as though the first parameter were the
        implicit "this" pointer from C++.</li>
      <li><strong>emekoi</strong> added a {#syntax#}std.Mutex{#endsyntax#} implementation for Windows.</li>
      <li><strong>tharvik</strong> added llvm-config sanity check to the stage1 cmake build configuration.</li>
      <li><strong>kristopher tate</strong> added compile error notes to hint using {#syntax#}and{#endsyntax#} and {#syntax#}or{#endsyntax#} when {#syntax#}&&{#endsyntax#} and {#syntax#}||{#endsyntax#} are used.</li>
      <li><strong>Matthew McAllister </strong> made tokenization errors more helpful.
        Previously, it pointed to the start of the current token, but this made
      it difficult to tell where the error occurred when it was, say, in the
      middle of a string.</li>
      <li><strong>kristopher tate</strong> improved stage1 os.cpp regarding opening files and 
        getting the modification time.</li>
      <li><strong>LemonBoy</strong> silenced gcc8 class-memaccess warnings using an explicit
        cast to tell gcc we know what we're doing.</li>
      <li><strong>Quetzal Bradley</strong> fixed a compile error in
        {#syntax#}std.os.File.openWriteNoClobber{#endsyntax#} and added test coverage.</li>
      <li><strong>sjdh02</strong> fixed check for 64-bit arm platforms with new targets.</li>
    </ul>
    {#header_close#}

    {#header_open|Syntax Highlighting on GitHub#}
    <p>Thanks to Jeff Fowler for creating <a href="https://github.com/ziglang/sublime-zig-language">sublime-zig-language</a> and for creating the
    <a href="https://github.com/github/linguist/pull/4005">pull request to GitHub</a> to add
    support for Zig.
    </p>
    <p>
    Finally, GitHub decided that Zig is popular enough to gain official recognition.
    </p>
    <p>As a fun last step, Marc Tiehuis marked third-party dependencies as vendored,
    so that we can have this pretty language bar on GitHub:
    </p>
    <img src="github-languages-bar.png">
    {#header_close#}

    {#header_open|Miscellaneous Improvements#}
    <ul>
      <li>Zig now recognizes the HermitCore and Hurd operating systems.</li>
      <li>The cmake configuration no longer tries to find libxml since it's not a direct
        dependency.</li>
      <li>add a test for {#syntax#}std.os.AtomicFile{#endsyntax#}</li>
      <li>increase stack size on windows for all executables. #157</li>
      <li>{#syntax#}std.Mutex{#endsyntax#} now has a high quality Linux implementation based on
        <a href="http://dept-info.labri.fr/~denis/Enseignement/2008-IR/Articles/01-futex.pdf">Ulrich Drepper's "Futexes are tricky" paper</a>, Mutex, Take 3.
        Thanks to Shawn Landden for the original implementation. #1463</li>
      <li>
        When targeting Linux, Zig now automatically links statically when not linking against
        any shared libraries. It also disables Position Independent Code in this case, which
        <a href="http://ewontfix.com/18/">improves performance</a>. <code>--enable-pic</code>
        and <code>--disable-pic</code> can be used to override the default.
      </li>
      <li>The cmake build looks for llvm-config-8 before llvm-config. Fixes building from source
      on some systems.</li>
      <li>
        Zig now supports building static libraries, with no system dependency on <code>ar</code>.
        #1493 #54
      </li>
      <li>
        On POSIX systems, the stage1 compiler uses <code>posix_spawn</code> rather than
        <code>fork</code> and <code>execv</code>. The logic is simplified and the memory usage
        is more deterministic.
      </li>
      <li>
        Zig's startup code inlines some functions so that stack traces have fewer frames before main.
      </li>
      <li>Support C ABI for returning structs on ARM. #1481</li>
      <li>add __multi3 compiler rt function. #1290</li>
      <li>compiler rt includes ARM functions for thumb and aarch64 and
        other sub-arches left out. #1526</li>
      <li>std.io: fix compile error when InStream has empty error set</li>
      <li>Support both MSVC 2015 and MSVC 2017 when linking libc, as well as for building stage1.</li>
      <li>macOS builds of master branch are now available on <a href="/download">the download page</a>.</li>
      <li>aarch64 improvements<ul>
          <li>support C ABI for all return types</li>
          <li>don't include __aeabi_uldivmod &amp; co on aarch64 since
            it's 64 bit</li></ul>
      </li>
      <li>improve error message when wrong type returned. #1650</li>
      <li>Crash fixes and small improvements to inline asm. (#1756) -Antoine Vugliano<ul>
          <li>codegen: fix use of deprecated LLVMConstInlineAsm.</li>
          <li>codegen: replace commas in asm constraint strings by pipes as required by LLVM.</li>
          <li>ir: enforce usage of '=' constraint modifier for inline assembly outputs.</li>
          <li>asm: forbid comptime_int/floats as inputs in favor of explicitely sized constants.</li>
          <li>asm: handle inputs with integers of less than 8 or non power of 2 bitsize by widening them to the next highest power of two.</li>
        </ul></li>
      <li>{#syntax#}std.rand.Rand{#endsyntax#}: better debiased random range implementation. -Josh Wolfe</li>
      <li>Add a workaround to support Debian's patch of LLVM which breaks the public API.
        <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=924953">Debian bug report</a>.
      </li>
      <li>comptime evaluation facilities are improved to be able to handle a
        <a href="/documentation/0.4.0/#ptrCast">@ptrCast</a> with a backing array.</li>
      <li><a href="/documentation/0.4.0/#truncate">@truncate</a> allows "truncating" a
        {#syntax#}u0{#endsyntax#} value to any integer type, and the result is always
        comptime known to be {#syntax#}0{#endsyntax#}.</li>
      <li>
    {#syntax#}std.fmt.formatType{#endsyntax#} can now format comptime_int -Jimmi Holst Christensen
      </li>
      <li>
    {#syntax#}std.fmt.format{#endsyntax#} can now format function pointers -Jimmi Holst Christensen
      </li>
      <li>Added compile errror for <a href="/documentation/0.4.0/#bitCast">@bitCast</a> when bit counts mismatch.</li>
      <li>Antoine Vugliano improved behaviour of ChildProcess under windows. Notify failure to create a
        process when the executable is not found even in PATH.</li>
      <li>Better error message when LLVM does not understand a triple.</li>
      <li>stage1 cmake build configuration ensures that the LLVM it finds is the exact correct
        version and that it has all the default targets enabled.</li>
      <li>Matthew McAllister enabled compileLog to display slices.</li>
      <li>Marc Tiehuis Added __addtf3, __subtf3 and __truncdfhf2 to compiler-rt.
        Allows addition/subtraction of {#syntax#}f128{#endsyntax#} and narrowing casts to {#syntax#}f16{#endsyntax#} from larger float types.</li>
      <li>Marc Tiehuis added {#syntax#}f128{#endsyntax#} support for fabs, isinf, isnan, inf and nan functions.</li>
      <li>Marc Tiehuis added float parsing support to {#syntax#}std.json{#endsyntax#}.</li>
      <li>Removed the "top of the comptime stack" compile error. It's still best practice
        to put <a href="/documentation/0.4.0/#setEvalBranchQuota">@setEvalBranchQuota</a>
        at the top of the comptime stack, but as Jimmi notes in #1949, when a function
        can be called at comptime and also can be the top of the comptime stack,
        this compile error is fundamentally unsound. So now it's gone.</li>
      <li>Matthew McAllister deduplicated compile log statement warnings.</li>
      <li>LemonBoy added the LLVM align attribute for pointer parameters.</li>
      <li>Fixed {#syntax#}std.os.getBaseAddress{#endsyntax#} for objects and libraries on macOS.
        See #1878. This removed the workaround in example/shared_library/mathtest.zig. Along the way
        these fixes were made:<ul>
          <li>Fixed extern variables with initialiaztion values to generate runtime code.</li>
          <li>Introduceed the ability for global variables to have Weak and LinkOnce linkage.</li>
          <li>Fixed <a href="/documentation/0.4.0/#export">@export</a> to work for non-functions.
            This code needs to be audited though.</li>
          <li>Fixed comptime ptrcast not keeping bigger alignment.</li>
          <li>Fixed linker warnings when targeting darwin.</li>
        </ul></li>
      <li>Deduplicate compile errors for undeclared identifiers. #111</li>
      <li>Added a compile error note when C import fails and not linking libc. #558</li>
      <li>Better error message when forgetting to link against libc. #1698</li>
      <li>Breaking changes to the way targets work.<ul>
          <li>CLI: <code>-target [name]</code> instead of <code>--target-*</code> args.
            This matches clang's command line interface.</li>
          <li>{#syntax#}builtin.Environ{#endsyntax#} renamed to {#syntax#}builtin.Abi{#endsyntax#};
            likewise {#syntax#}builtin.environ{#endsyntax#} renamed to
            {#syntax#}builtin.abi{#endsyntax#}.</li>
          <li>stop hiding the concept of sub-arch. #1526</li>
          <li><code>zig targets</code> only shows available targets. #438</li>
          <li>include all targets in {#link|Support Table#}, even those that don't
            print with <code>zig targets</code> but note they are {#link|Tier 4 Support#}.</li>
        <li>introduce the concept of a "default C ABI" for a given OS/Arch combo.
          As a rule of thumb, if the system compiler is clang or gcc then the
          default C ABI is the gnu ABI.</li>
        <li>Better error message for `-target windows` CLI. #1169</li>
      </ul></li>
      <li>Marc Tiehuis improved Zig's
        <a href="/documentation/0.4.0/#Error-Return-Traces">error return trace</a>
        code to use bitwise-and instead of modulo, which avoids emitting compiler-rt div
        calls on some targets.</li>
      <li>Antoine Vugliano made all integers returned by <a href="/documentation/0.4.0/#typeInfo">@typeInfo</a> {#syntax#}comptime_int{#endsyntax#}.</li>
      <li>Added {#syntax#}popcountdi2{#endsyntax#} to compiler_rt</li>
      <li>Matt Whiteside added elf riscv32 and elf riscv64 as options in getLDMOption during construction of link job.</li>

    </ul>

    {#header_open|Recursive Type Mismatch Error Notes#}
    <p>
    Function type mismatches now have an error note which explains in more detail why the
    function types were incompatible:
    </p>
    {#code_begin|test_err|cannot cast into#}
fn do_the_thing(func: fn (arg: i32) void) void {}
fn bar(arg: bool) void {}
test "fn types" {
    do_the_thing(bar);
}
    {#code_end#}
    {#header_close#}
    {#header_close#}

    {#header_open|Bug Fixes#}
    <ul>
      <li>Antoine Vugliano fixed --emit asm on windows. #1612</li>
      <li>Jimmi Holst Christensen fixed StackTrace not being resolved when panic is invalid (#1615)</li>
      <li>Fixed missing .h files for <a href="https://ziglang.org/documentation/0.4.0/#cImport">@cImport</a>. #1634</li>
      <li>No more blank lines printed after linker errors. Fixed by disabling the error limit when invoking LLD. </li>
      <li>Fixed code still using old ptr syntax. -Jimmi Holst Christensen</li>
      <li>Fixed stack pointer register name on i386</li>
      <li>Removed implicit cast from number literal to enum</li>
      <li>limit integer types to maximum bit width of 65535. #1541</li>
      <li>Fixed .h file locating on macos 10.14</li>
      <li>fix assertion failure related to @intToEnum</li>
      <li>std/rand: fix ziggurat next_f64 call. -Marc Tiehuis</li>
      <li>fix <a href="/documentation/0.4.0/#intCast">@intCast</a> not catching negative numbers to unsigned</li>
      <li>better file path handling in stage1 compiler. #1693 #1746</li>
      <li>Antoine Vugliano fixed stack traces on windows.</li>
      <li>Josh Wolfe fixed child_process piped streams not getting closed</li>
      <li>Fixed intToPtr to fn type when the address is hardcoded (#1842) -Jimmi Holst Christensen</li>
      <li>vegecode fixed mutate through ptr initialized with constant intToPtr
        value. #1171</li>
      <li>Jimmi Holst Christensen fixed <a href="/documentation/0.4.0/#typeInfo">@typeInfo</a> returning incorrect results sometimes.</li>
      <li>Jimmi Holst Christensen fixed using mem.writeInt at comptime can change the type of a structs field. #1866</li>
      <li>Fixed debug info for function pointers.</i>
      <li>Fixed <a href="/documentation/0.4.0/#typeInfo">@typeInfo</a> returning incorrect function return type sometimes.</li>
      <li>Fixed incorrect parameter names for {#syntax#}std.math.atan2{#endsyntax#}.</li>
      <li>Sauhnvour improved the line number accuracy of stack traces on Windows. #1503</li>
      <li>krisopher tate fixed <a href="/documentation/0.4.0/#compileLog">@compileLog</a> with a pointer to an opaque value.</li>
      <li>Fixed incorrect timeval struct type on macOS. #1648</li>
      <li>Matthew McAllister fixed runtime assignment to comptime aggregate field.</li>
      <li>Matthew McAllister fixed slice concatenation.</li>
      <li>Fixed using the result of @intCast to u0. #1817</li>
      <li>Fixed compiler assertion failure when returning value from test. #1935</li>
      <li><a href="/documentation/0.4.0/#truncate">@truncate</a> now is {#syntax#}comptime{#endsyntax#}-known to be 0 when destination integer type has 0 bits.
        If the destination type is a {#syntax#}comptime_int{#endsyntax#}, treat it as an <a href="/documentation/0.4.0/#Implicit-Casts">Implicit Cast</a>. #1568</li>
      <li>Add missing compile error for OpaqueType inside structs/unions. #1862</li>
      <li>Fix mmap syscalls invoking undefined behavior when address 0 is used. Found
        thanks to Zig's new safety checks for null pointers.</li>
      <li>Typecheck the panic function. The prototype of panic is added to
        {#syntax#}@import("builtin"){#endsyntax#} and then used to do an implicit cast of the panic
        function to this prototype, rather than redoing all the implicit cast logic. #1894 #1895</li>
      <li>emekoi fixed the secret debug safety union tag incorrectly being
        included in release modes.</li>
      <li>Matthew McAllister fixed lvalue dereference type checking. Previously,
        if a dereference instruction was an lvalue, it would fail to typecheck
        that the value being dereferenced was indeed a pointer.</li>
      <li>sjdh02 fixed BufferedInStream not reading delayed input.</li>
      <li>Benoit Jauvin-Girard fixed std.math.powi so powi(x, +-0) = 1 for any x.</li>
      <li>LemonBoy prevented crashing in tagged enums rendering (#1986)</li>
      <li>Fix <a href="/documentation/0.4.0/#bitCast">@bitCast</a> when src/dest types have
        mismatched <code>handle_is_ptr</code>. #991 #1934</li>
      <li>Fixed incorrectly trying to memset at comptime. #718</li>
      <li>Correctly handle the case when there are multiple externs and an export in the same object, and they all share the same name. #529</li>
      <li>Better error message on Windows when a file name contains an asterisk.</li>
      <li>Fixed .h file generation not respecting <a href="/documentation/0.4.0/#export">@export</a>.</li>
      <li>Fixed <a href="/documentation/0.4.0/#typeName">@typeName</a> on slices. #2026</li>
      <li>Jimmi Holst Christensen fixed function taking TypeInfo and returning type crashed compiler. #1600</li>
      <li>Added test for spawning child process with empty environment. Thanks to BenoitJGirard
        for pointing out the child process implementation needs 3 extra null bytes in #2031.</li>
    </ul>

    {#header_open|This Release Contains Bugs#}
   <p>
   Zig has <a href="https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3Abug">known bugs</a>.
   </p>
   <p>The first release that will ship with no known bugs will be 1.0.0.</p>
    {#header_close#}

    {#header_close#}

    {#header_open|Roadmap#}
    <p>Here is the <a href="/download/0.3.0/release-notes.html">roadmap from 0.3.0 release notes</a>:</p>
   <ul>
     <li>Redo coroutines without using LLVM Coroutines and rework the semantics. See <a href="https://github.com/ziglang/zig/issues/1363">#1363</a> and <a href="https://github.com/ziglang/zig/issues/1194">#1194</a>.</li>
     <li>Tuples instead of var args. <a href="https://github.com/ziglang/zig/issues/208">#208</a></li>
     <li>Well-defined copy-eliding semantics. <a href="https://github.com/ziglang/zig/issues/287">#287</a></li>
     <li>Self-hosted compiler. <a href="https://github.com/ziglang/zig/issues/89">#89</a></li>
     <li>Get to 100% documentation coverage of the language</li>
     <li>Auto generated documentation. <a href="https://github.com/ziglang/zig/issues/21">#21</a></li>
     <li>Package manager. <a href="https://github.com/ziglang/zig/issues/943">#943</a></li>
   </ul>
   <p>
   I am sad to report that this list was too ambitious for one release cycle, and while there has
   been considerable progress, none of these items are complete. And so the roadmap for 0.4.0 is
   the same.
   </p>
   <p>
   TODO explain my 2 failed attempts at no-copy semantics
   </p>
    {#header_open|Type-Based Alias Analysis Status#}
    <p>TODO no more TBAA</p>
    <p>TODO talk about the open aliasing issues</p>
    {#header_close#}

    {#header_open|macOS/Mach-O Linker Status#}
    <p>TODO LLD doesn't really support macos</p>
    <p>TODO talk about plan to create our own linker #1535</p>
    <p>TODO we had to disable C ABI tests on macos due to LLD deficiency</p>
    <p>TODO using --system-linker-hack for the self hosted compiler</p>
    TODO 81c6f087241b6b7a1c12de72a2061cb02df0f93f workaround in building compiler-rt.a and builtin.a
    {#header_close#}

    {#header_open|Self-Hosted Compiler Status#}
    <p>TODO</p>
    {#header_close#}

    {#header_open|Accepted Proposals#}
    <p>Here is a small selection of interesting proposals that have been accepted,
    to give you an idea of the upcoming changes to Zig.</p>
    <ul>
      <li><a href="https://github.com/ziglang/zig/issues/2165">Remove shebang line support</a></li>
      <li><a href="https://github.com/ziglang/zig/issues/1512">Ability to set alignment of struct fields</a></li>
      <li><a href="https://github.com/ziglang/zig/issues/485">Default struct field initialization values</a></li>
      <li><a href="https://github.com/ziglang/zig/issues/2029">Add a builtin function for source information</a></li>
      <li><a href="https://github.com/ziglang/zig/issues/265">Support null-terminated pointer types</a></li>
      <li><a href="https://github.com/ziglang/zig/issues/685">Anonymous struct literals</a></li>
      <li><a href="https://github.com/ziglang/zig/issues/114">Require parentheses sometimes to disambiguate confusing operator precedence</a></li>
    </ul>
    <p>
    <a href="https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3Aaccepted">Full list of accepted proposals</a>
    </p>
    {#header_close#}

    {#header_close#}

    {#header_open|Active External Projects Using Zig#}
    <ul>
      <li><a href="https://github.com/andrewrk/zig-general-purpose-allocator/">GeneralPurposeDebugAllocator</a> - work in progress general purpose debug allocator with livestreamed development.</li>
      <li><a href="https://github.com/Sahnvour/zig-benchmark">zig-benchmark</a> - Small and easy micro-benchmarking library.</li>
      <li><a href="https://github.com/dbandstra/oxid">Oxid</a> - an arcade-style game where you fight waves of monsters in a fixed-screen maze.</li>
      <li><a href="https://github.com/sjdh02/trOS">trOS</a> - tiny aarch64 baremetal OS thingy.</li>
      <li><a href="https://github.com/Hejsil/zig-clap">zig-clap</a> - Simple command line argument parsing library</li>
      <li><a href="https://github.com/ul/simple-amplifier">Simple Amplifier</a> - a very simple example of LV2 plugin built in Zig.</li>
      <li><a href="https://github.com/mikdusan/benchmark.unicode">benchmark.unicode</a> - A command-line tool written in Zig to measure the performance of various UTF8 decoders. The decoders are written in Zig or C.</li>
      <li><a href="https://github.com/thejoshwolfe/hexdump-zip">hexdump-zip</a> - produce an annotated hexdump of a zipfile</li>
    </ul>
    {#header_close#}

    {#header_open|Thank you financial supporters!#}
<p>
Special thanks to those who <a href="https://www.patreon.com/andrewrk">donate monthly</a>.
Thanks to you, Zig is not driven by the needs of a business; instead it exists solely to serve
the open source community.
</p>
<ul style="columns: 3">
<li>connectFree Corporation</li>
<li>Raph Levien</li>
<li>Stevie Hryciw</li>
<li>Lauren Chavis</li>
<li>Ali Anwar</li>
<li>Andrea Orru</li>
<li>Josh Wolfe</li>
<li>Filippo Valsorda</li>
<li>Ryan Worl</li>
<li>jeff kelley</li>
<li>Martin Schwaighofer</li>
<li>Jimmy Zelinskie</li>
<li>Tyler Bender</li>
<li>Tanner Schultz</li>
<li>Kelly Wilson</li>
<li>Brendon Scheinman</li>
<li>Trenton Cronholm</li>
<li>Champ Yen</li>
<li>Don Poor</li>
<li>Locke Monster</li>
<li>Thomas Ballinger</li>
<li>Paul Merrill</li>
<li>Audun Wilhelmsen</li>
<li>Adrian Sinclair</li>
<li>David Joseph</li>
<li>Elizabeth Ryan</li>
<li>Tom Phinney</li>
<li>Steve Perkins</li>
<li>Clement Rey</li>
<li>Jeff </li>
<li>Ross Rheingans-Yoo</li>
<li>Ross Kilgariff</li>
<li>Rudi Angela</li>
<li>Justin B Alexander</li>
<li>Ville Tuulos</li>
<li>shen xizhi</li>
<li>Ross Cousens</li>
<li>William L Sommers</li>
<li>Mirek Rusin</li>
<li>Peter Ronnquist</li>
<li>Felix Yuan</li>
<li>Aharon sharim</li>
<li>Caius </li>
<li>Matthew </li>
<li>Brian Glusman</li>
<li>Christopher A. Butler</li>
<li>Raymond Imber</li>
<li>Jack Wakefield</li>
<li>Mitch Small</li>
<li>Josh Gentry</li>
<li>Benoit Jauvin-Girard</li>
<li>Josh McDonald</li>
<li>Jay Weisskopf</li>
<li>Dan Boykis</li>
<li>Le Bach</li>
<li>Jordan Torbiak</li>
<li>Gerdus van Zyl</li>
<li>Furkan Mustafa</li>
<li>S.D. </li>
<li>Yaroslav Zh</li>
<li>Eduard Nicodei</li>
<li>Thomas Lopatic</li>
<li>joe ardent</li>
<li>Luis Alfonso Higuera Gamboa</li>
<li>Jason Merrill</li>
<li>Andriy Tyurnikov</li>
<li>Sanghyeon Seo</li>
<li>Neil Henning</li>
<li>Aaron St George </li>
<li>Brian Orr</li>
<li>Frans van den Heuvel</li>
<li>David Bremner</li>
<li>Wesley Kelley</li>
<li>Quetzal Bradley</li>
<li>Wink Saville</li>
<li>Anthony J. Benik</li>
<li>stdev </li>
<li>Ben Morris</li>
<li>Brian Ketelsen</li>
<li>Serge Paquet</li>
<li>Joseph Jaoudi</li>
<li>Torben Clasen</li>
<li>occivink </li>
<li>curtis gagliardi</li>
<li>Codi Matters</li>
<li>Ruslan Prakapchuk</li>
<li>Tyler Philbrick</li>
<li>Jan Halsema</li>
<li>Samantha Weddle</li>
<li>Jeff Hochgesang</li>
<li>Anatoly Polinsky</li>
<li>McSpiros </li>
<li>George K</li>
<li>Jon Raphaelson</li>
<li>Brian Lewis</li>
<li>Matt Whiteside</li>
<li>AnonymousGuy </li>
<li>Blazej Floch</li>
<li>Dmitriy Filchenko</li>
<li>ers35 </li>
<li>Martin Holly</li>
<li>RCherry </li>
<li>Charles Palmer</li>
<li>Ryan Roberts</li>
<li>Andrew Fernandes</li>
<li>Fabien Freling</li>
<li>Lewis </li>
<li>Marko Mikulicic</li>
<li>Jonathan Wright</li>
<li>James Haggerty</li>
<li>earthfront </li>
<li>Jakob Falke</li>
<li>John Judnich</li>
<li>Chris W</li>
<li>Drosin </li>
<li>John Biesnecker</li>
<li>Alexander Ellis</li>
<li>bb010g </li>
<li>Pau Fernández</li>
<li>Krishna Aradhi</li>
<li>Adrian Hatch</li>
<li>Deniz Kusefoglu</li>
<li>Hans Wennborg</li>
<li>Tim Hutt</li>
<li>John Schmidt</li>
<li>Rasmus Rønn Nielsen</li>
<li>Johann Muszynski</li>
<li>Eigil Skjæveland</li>
<li>Harry </li>
<li>Matus Hamorsky</li>
<li>Fabio Utzig</li>
<li>Gregoire Picquot</li>
<li>Lorenz Bauer</li>
<li>Cameron Miller</li>
<li>Igor Butenko</li>
<li>Akifumi Fukumoto</li>
<li>Alexandra Gillis</li>
<li>david karapetyan</li>
<li>Chad Russell</li>
<li>Wojciech Miłkowski</li>
<li>Ernst Rohlicek</li>
<li>Gudmund Vatn</li>
<li>Martin Angers</li>
<li>Christoph Müller</li>
<li>brian cleary</li>
<li>moomeme </li>
<li>xash </li>
<li>Jacques de Laval</li>
<li>blank </li>
<li>Joran Dirk Greef</li>
<li>Rickard Gustafsson</li>
<li>Mohamed </li>
<li>Romain Beaumont</li>
<li>Nate Dobbins</li>
<li>Paul Anderson</li>
<li>Jon Renner</li>
<li>Karl Syvert Løland</li>
<li>Stanley Zheng</li>
<li>myfreeweb </li>
<li>Dennis Furey</li>
<li>Dana Davis</li>
<li>Drew Carmichael</li>
<li>Doug Thayer</li>
<li>Henryk Gerlach</li>
<li>David Pippenger</li>
<li>Matthew Steele</li>
<li>Alex Alex</li>
<li>Andrew London</li>
<li>Jirka Grunt</li>
<li>Dillon A</li>
<li>Yannik </li>
<li>VilliHaukka </li>
<li>Chris Castle</li>
<li>Timothy Schumann</li>
<li>Antonio D'souza</li>
<li>Damien Dubé</li>
<li>Dbzruler72 </li>
<li>Francisco Vallarino</li>
<li>SP </li>
<li>Silicas </li>
<li>Falk Hüffner</li>
<li>allan </li>
<li>jose maria gonzalez ondina</li>
<li>Adrian Boyko</li>
<li>Benedikt Mandelkow</li>
<li>Will Cassella</li>
<li>Michael Weber</li>
<li>Darren </li>
<li>eliott </li>
<li>Vladimir Kraus</li>
<li>komu </li>
<li>LeRoyce </li>
<li>Jörg Sonnenberger</li>
<li>Alexandru Nedel</li>
<li>Oleg Alexeev</li>
<li>Ilya Semyonov</li>
<li>Brian </li>
<li>Myles Byrne</li>
<li>Jethro Nederhof</li>
<li>Harris Brakmic</li>
<li>Riking </li>
<li>daurnimator </li>
<li>Luke Paireepinart</li>
<li>Paulius Šarka</li>
<li>burtonageo </li>
<li>Neil Wang</li>
<li>Jason Pepas</li>
<li>Chris </li>
<li>Jedd Fenner</li>
<li>Robin Trujillo</li>
<li>Kristleifur Daðason</li>
<li>Raphael Schweikert</li>
<li>Jimmy Andrews</li>
<li>Robin Eidissen</li>
<li>Corentin Kerisit</li>
<li>Jonathan Dahan</li>
<li>Bruce Zeng</li>
<li>Yasuhiro Fujii</li>
<li>Micaiah Parker</li>
<li>Rahul Nair</li>
<li>Justin Voss</li>
<li>Harm Aarts</li>
<li>Dylan </li>
<li>samuel Schneck</li>
<li>Ayodele Akingbule</li>
</ul>
    {#header_close#}

    TODO convert github links

    </div>
  </body>
</html>
